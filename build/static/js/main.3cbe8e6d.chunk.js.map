{"version":3,"sources":["img/logo.svg","Firebase/Firebase.js","store/reducers/authReducer.js","store/reducers/booksReducer.js","store/reducers/index.js","store/actions/actionTypes.js","store/index.js","utils/theme.js","utils/global.js","components/Logo/Logo.js","hoc/layout/elements/index.js","components/Navigation/NavItems/NavItem/NavItem.js","components/Navigation/NavItems/NavItems.js","components/Navigation/Navbar/Navbar.js","hoc/layout/Layout.js","components/UI/Forms/Input/Input.js","components/UI/Forms/Button/Button.js","components/UI/Headings/Heading.js","store/actions/authActions.js","store/actions/booksActions.js","components/UI/CustomLink/CustomLink.js","components/UI/Loader/Loader.js","containers/Auth/Login/Login.js","utils/index.js","containers/Auth/SignUp/SignUp.js","containers/Auth/Logout/Logout.js","containers/Auth/VerifyEmail/VerifyEmail.js","containers/Auth/RecoverPassword/RecoverPassword.js","components/UI/Modal/BackDrop/BackDrop.js","components/UI/Modal/Modal.js","containers/Auth/Profile/Profile.js","components/UI/Forms/Select/Select.js","containers/Library/AddBook/AddBook.js","containers/Library/Books/BookItem/styles.js","components/UI/Like/Like.js","containers/Library/Books/BookItem/BookItem.js","containers/Library/Books/BooksFilter/styles.js","containers/Library/Books/BooksFilter/BooksFilter.js","containers/Library/Books/Books.js","containers/Library/styles.js","containers/Library/Library.js","components/UI/Forms/Textarea/Textarea.js","containers/Library/Books/AddBookReview.js","components/UI/StarsRating/StarsRating.js","containers/Library/Books/BooksReviewsList/styles.js","containers/Library/Books/BooksReviewsList/BooksReviewsList.js","containers/Library/Books/BookPage/styles.js","containers/Library/Books/BookPage/BookPage.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","initialState","error","loading","verifyEmail","recoverPassword","profileEdit","deleteUser","authStart","state","authEnd","authFailed","payload","authSuccess","verifyStart","verifySuccess","verifyFail","recoveryStart","recoverySuccess","recoveryFail","profileEditStart","profileEditSuccess","profileEditFail","deleteStart","deleteFail","cleanUp","addReview","deleteReview","deleteBook","addBookStart","addBookSuccess","addBookFail","deleteBookStart","deleteBookSuccess","addBookReviewStart","addBookReviewSuccess","addBookReviewFail","deleteReviewStart","deleteReviewSuccess","deleteReviewFail","combineReducers","auth","type","books","firebaseReducer","firestoreReducer","composeEnhancers","compose","store","createStore","rootReducer","reactReduxFirebase","userProfile","useFirestoreForProfile","attachAuthIsReady","reduxFirestore","applyMiddleware","thunk","withExtraArgument","getFirebase","getFirestore","theme","colors","main","yellow","yellowDark","gray","textColor","whiteColor","errorRed","green","shadow","mediaQueries","smallest","small","medium","large","largest","createGlobalStyle","props","LogoWrapper","styled","Link","Logo","to","src","logo","alt","width","Container","div","selfStart","FormWrapper","contain","StyledForm","Form","TitlesWrapper","SelectWrapper","StyledSelect","select","Error","show","StyledInput","input","StyledTextarea","textarea","ButtonsWrapper","Li","li","StyledNavLink","NavLink","NavItem","link","children","exact","activeClassName","Nav","nav","mobile","Ul","ul","Label","span","NavItems","links","loggedIn","emailVerified","className","FixedWrapper","header","Wrapper","Navbar","MainWrapper","Layout","style","height","InputWrapper","Input","field","form","touched","errors","name","StyledButton","button","deleted","warning","Button","disabled","rest","baseStyle","css","bold","noMargin","preWrap","Heading1","h1","Heading2","h2","Heading3","h3","Heading4","h4","Heading","color","size","isDone","clean","returnBook","bookId","dispatch","getState","a","userId","uid","collection","doc","get","res","data","index","findIndex","book","id","userIndex","renter","user","slice","items","update","StyledLink","CustomLink","SpinnewWrapper","isBtn","isAbsolute","StyledSpinner","svg","Loader","viewBox","cx","cy","r","fill","strokeWidth","LoginSchema","Yup","shape","email","required","password","min","mapDispatchToProps","login","signInWithEmailAndPassword","message","actions","connect","useEffect","alert","useAlert","initialValues","validationSchema","onSubmit","values","setSubmitting","isSubmiting","isValid","Helmet","placeholder","component","validateEmail","value","test","booksFilter","label","bookRating","SignUpSchema","firstName","max","lastName","confirmPassword","oneOf","signUp","createUserWithEmailAndPassword","mail","currentUser","sendEmailVerification","set","team","isSubmitting","validate","logout","signOut","sendVerification","onClick","success","RecoverSchema","sendEmail","sendPasswordResetEmail","opened","BackDrop","close","WrapperModal","Modal","React","memo","ReactDom","createPortal","Fragment","document","getElementById","prevProps","nextProps","DeleteWrapper","ProfileWrapper","BookRentWrapper","ProfileEditWrapper","BookItems","BookItem","BookItemWrapper","ProfileSchema","editProfile","userEmail","updateEmail","length","updatePassword","delete","loadingDelete","erroreDelete","rentBooks","useState","modalOpened","setModalOpened","filter","profile","isLoaded","map","key","bookName","Select","changeFn","blurFn","firstOption","classname","onChange","onBlur","option","addBookSchema","bookAuthor","category","addBook","newBook","Date","valueOf","Number","location","resetForm","querySelectorAll","forEach","handleChange","handleBlur","Col","Item","Value","ValueToBottom","BtnWrap","BookItemReviews","BookItemInfo","LikeButton","likesValue","addLike","bind","deleteLike","likeAction","newCount","this","setState","likeBook","likes","find","like","i","divider","Component","rentBook","newRenter","newLike","likeIndex","previousBooks","newBooks","isAdmin","bookItems","paddingRight","display","reviews","Like","marginTop","FilterWrapper","Filter","FilterBtn","BooksFilter","onTermChange","e","onSearchChange","term","target","onFilterChange","Row","Books","search","onSearchItem","filterItems","item","toLowerCase","indexOf","content","padding","withAlert","LibraryWrapper","BooksWrapper","TitleWrapper","AddBookWrapper","Library","TextareaWrapper","Textarea","bookReviewSchema","review","rating","addBookReview","newReview","StarsRating","starCount","editing","starColor","ReviewItem","DeleteBtn","deleteBookReview","reviewIndex","visible","setVisible","BookWrapper","ReviewsWrapper","AddReviewWrapper","BookPage","useParams","admin","firestoreConnect","routes","title","path","VerifyEmail","Profile","Logout","fallback","Login","SignUp","RecoverPassword","root","options","position","positions","TOP_RIGHT","timeout","offset","transition","transitions","SCALE","ReactDOM","render","firebaseAuthIsReady","then","template","AlertTemplate"],"mappings":"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","file":"static/js/main.3cbe8e6d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.fdf5ffdd.svg\";","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: \"wiki-ems.firebaseapp.com\",\n  databaseURL: \"https://wiki-ems.firebaseio.com\",\n  projectId: \"wiki-ems\",\n  storageBucket: \"wiki-ems.appspot.com\",\n  messagingSenderId: \"714794421919\",\n  appId: \"1:714794421919:web:febeb66074bc1f53e45caa\",\n};\n\nfirebase.initializeApp(config);\nfirebase.firestore();\n\nexport default firebase;\n","import * as actions from '../actions/actionTypes';\n\nconst initialState = {\n  error: null,\n  loading: false,\n  verifyEmail: {\n    error: null,\n    loading: false\n  },\n  recoverPassword: {\n    error: null,\n    loading: false\n  },\n  profileEdit: {\n    error: null,\n    loading: false\n  },\n  deleteUser: {\n    error: null,\n    loading: false\n  }\n};\n\n// Auth\nconst authStart = state => {\n  return {\n    ...state,\n    loading: true\n  };\n};\nconst authEnd = state => {\n  return {\n    ...state,\n    loading: false\n  };\n};\nconst authFailed = (state, payload) => {\n  return {\n    ...state,\n    error: payload\n  };\n};\nconst authSuccess = state => {\n  return{\n    ...state,\n    error: false\n  };\n};\n\n// Verify\nconst verifyStart = state => {\n  return{\n    ...state,\n    verifyEmail: {\n      ...state.verifyEmail,\n      loading: true\n    }\n  };\n};\nconst verifySuccess = state => {\n  return{\n    ...state,\n    verifyEmail: {\n      ...state.verifyEmail,\n      loading: false,\n      error: false\n    }\n  };\n};\nconst verifyFail = (state, payload) => {\n  return{\n    ...state,\n    verifyEmail: {\n      ...state.verifyEmail,\n      loading: false,\n      error: payload\n    }\n  };\n};\n\n// Recovery\nconst recoveryStart = state => {\n  return{\n    ...state,\n    recoverPassword: {\n      ...state.recoverPassword,\n      loading: true\n    }\n  };\n};\nconst recoverySuccess = state => {\n  return{\n    ...state,\n    recoverPassword: {\n      ...state.recoverPassword,\n      loading: false,\n      error: false\n    }\n  };\n};\nconst recoveryFail = (state, payload) => {\n  return{\n    ...state,\n    recoverPassword: {\n      ...state.recoverPassword,\n      loading: false,\n      error: payload\n    }\n  };\n};\n\n// Profile Edit\nconst profileEditStart = state => {\n  return{\n    ...state,\n    profileEdit: {\n      ...state.profileEdit,\n      loading: true\n    }\n  };\n};\nconst profileEditSuccess = state => {\n  return{\n    ...state,\n    profileEdit: {\n      ...state.profileEdit,\n      loading: false,\n      error: false\n    }\n  };\n};\nconst profileEditFail = (state, payload) => {\n  return{\n    ...state,\n    profileEdit: {\n      ...state.profileEdit,\n      loading: false,\n      error: payload\n    }\n  };\n};\n\n// Delete account\nconst deleteStart = state => {\n  return{\n    ...state,\n    deleteUser: {\n      ...state.deleteUser,\n      loading: true\n    }\n  };\n};\nconst deleteFail = (state, payload) => {\n  return{\n    ...state,\n    deleteUser: {\n      ...state.deleteUser,\n      loading: false,\n      error: payload\n    }\n  };\n};\n\nconst cleanUp = state => {\n  return{\n    ...state,\n    error: null,\n    loading: false,\n    verifyEmail: {\n      ...state.verifyEmail,\n      error: null,\n      loading: false,\n    },\n    recoverPassword: {\n      ...state.recoverPassword,\n      error: null,\n      loading: false,\n    },\n    profileEdit: {\n      ...state.profileEdit,\n      error: null,\n      loading: false,\n    },\n    deleteUser: {\n      ...state.profileEdit,\n      error: null,\n      loading: false,\n    }\n  };\n};\n\nexport default (state = initialState, {type, payload}) => {\n  switch (type) {\n    case actions.CLEAN_UP:\n      return cleanUp(state);\n    \n    case actions.AUTH_START:\n      return authStart(state);\n      \n    case actions.AUTH_END:\n      return authEnd(state);\n\n    case actions.AUTH_FAILED:\n      return authFailed(state, payload);\n\n    case actions.AUTH_SUCCESS:\n      return authSuccess(state);\n\n    case actions.VERIFY_START:\n      return verifyStart(state);\n\n    case actions.VERIFY_SUCCESS:\n      return verifySuccess(state);\n\n    case actions.VERIFY_FAIL:\n      return verifyFail(state, payload);\n\n    case actions.RECOVERY_START:\n      return recoveryStart(state);\n\n    case actions.RECOVERY_SUCCESS:\n      return recoverySuccess(state);\n\n    case actions.RECOVERY_FAIL:\n      return recoveryFail(state, payload);\n\n    case actions.PROFILE_EDIT_START:\n      return profileEditStart(state);\n  \n    case actions.PROFILE_EDIT_SUCCESS:\n      return profileEditSuccess(state);\n  \n    case actions.PROFILE_EDIT_FAIL:\n      return profileEditFail(state, payload);\n\n    case actions.DELETE_START:\n      return deleteStart(state);\n  \n    case actions.DELETE_FAIL:\n      return deleteFail(state, payload);\n\n    default:\n      return state;\n  }\n};\n","import * as actions from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  error: null,\r\n  loading: false,\r\n  addReview: {\r\n    error: null,\r\n    loading: false\r\n  },\r\n  deleteReview: {\r\n    error: null,\r\n    loading: false\r\n  },\r\n  deleteBook: {\r\n    loading: false\r\n  }\r\n};\r\n\r\n// Add Book\r\nconst addBookStart = state => {\r\n  return {\r\n    ...state,\r\n    error: null,\r\n    loading: true\r\n  };\r\n};\r\nconst addBookSuccess = state => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: false\r\n  };\r\n};\r\nconst addBookFail = (state, payload) => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: payload\r\n  };\r\n};\r\n\r\n// Delete book\r\nconst deleteBookStart = state => {\r\n  return{\r\n    ...state,\r\n    deleteBook: {\r\n      ...state.deleteBook,\r\n      loading: true\r\n    }\r\n  };\r\n};\r\nconst deleteBookSuccess= state => {\r\n  return{\r\n    ...state,\r\n    deleteBook: {\r\n      ...state.deleteBook,\r\n      loading: false\r\n    }\r\n  };\r\n};\r\n\r\n// Add Book review\r\nconst addBookReviewStart = state => {\r\n  return {\r\n    ...state,\r\n    addReview: {\r\n      ...state.addReview,\r\n      loading: true\r\n    }\r\n  };\r\n};\r\nconst addBookReviewSuccess = state => {\r\n  return {\r\n    ...state,\r\n    addReview: {\r\n      ...state.addReview,\r\n      error: false,\r\n      loading: false\r\n    }\r\n  };\r\n};\r\nconst addBookReviewFail = (state, payload) => {\r\n  return {\r\n    ...state,\r\n    addReview: {\r\n      ...state.addReview,\r\n      loading: true,\r\n      error: payload\r\n    }\r\n  };\r\n};\r\n\r\n// Delete review\r\nconst deleteReviewStart = state => {\r\n  return{\r\n    ...state,\r\n    deleteReview: {\r\n      ...state.deleteReview,\r\n      loading: true\r\n    },\r\n  };\r\n};\r\nconst deleteReviewSuccess= state => {\r\n  return{\r\n    ...state,\r\n    deleteReview: {\r\n      ...state.deleteReview,\r\n      loading: false,\r\n      error: false\r\n    }\r\n  };\r\n};\r\nconst deleteReviewFail = (state, payload) => {\r\n  return{\r\n    ...state,\r\n    deleteReview: {\r\n      ...state.deleteReview,\r\n      loading: true,\r\n      error: payload\r\n    }\r\n  };\r\n};\r\n\r\nconst cleanUp = state => {\r\n  return{\r\n    error: null,\r\n    loading: false,\r\n    addReview: {\r\n      error: null,\r\n      loading: false\r\n    },\r\n    deleteReview: {\r\n      ...state.deleteReview,\r\n      error: null,\r\n      loading: false,\r\n    },\r\n    deleteBook: {\r\n      ...state.deleteBook,\r\n      error: null,\r\n      loading: false\r\n    }\r\n  };\r\n};\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case actions.CLEAN_UP:\r\n      return cleanUp(state);\r\n\r\n    case actions.ADD_BOOK_START:\r\n      return addBookStart(state);\r\n\r\n    case actions.ADD_BOOK_SUCCESS:\r\n      return addBookSuccess(state);\r\n\r\n    case actions.ADD_BOOK_FAIL:\r\n      return addBookFail(state, payload);\r\n\r\n    case actions.DELETE_BOOK_START:\r\n      return deleteBookStart(state);\r\n\r\n    case actions.DELETE_BOOK_SUCCESS:\r\n      return deleteBookSuccess(state);\r\n\r\n    case actions.ADD_BOOK_REVIEW_START:\r\n      return addBookReviewStart(state);\r\n\r\n    case actions.ADD_BOOK_REVIEW_SUCCESS:\r\n      return addBookReviewSuccess(state);\r\n\r\n    case actions.ADD_BOOK_REVIEW_FAIL:\r\n      return addBookReviewFail(state, payload);\r\n\r\n    case actions.DELETE_BOOK_REVIEW_START:\r\n      return deleteReviewStart(state);\r\n\r\n    case actions.DELETE_BOOK_REVIEW_SUCCESS:\r\n      return deleteReviewSuccess(state);\r\n\r\n    case actions.DELETE_BOOK_REVIEW_FAIL:\r\n      return deleteReviewFail(state, payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n","import {combineReducers} from 'redux';\nimport {firebaseReducer} from 'react-redux-firebase';\nimport {firestoreReducer} from 'redux-firestore';\nimport authReducer from './authReducer';\nimport booksReducer from './booksReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  books: booksReducer,\n  firebase: firebaseReducer,\n  firestore: firestoreReducer\n});\n","export const AUTH_START = 'AUTH_START';\nexport const AUTH_END = 'AUTH_END';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAILED = 'AUTH_FAILED';\nexport const CLEAN_UP = 'CLEAN_UP';\n\nexport const VERIFY_START = 'VERIFY_START';\nexport const VERIFY_SUCCESS = 'VERIFY_SUCCESS';\nexport const VERIFY_FAIL = 'VERIFY_FAIL';\n\nexport const RECOVERY_START = 'RECOVERY_START';\nexport const RECOVERY_SUCCESS = 'RECOVERY_SUCCESS';\nexport const RECOVERY_FAIL = 'RECOVERY_FAIL';\n\nexport const PROFILE_EDIT_START = 'PROFILE_EDIT_START';\nexport const PROFILE_EDIT_SUCCESS = 'PROFILE_EDIT_SUCCESS';\nexport const PROFILE_EDIT_FAIL = 'PROFILE_EDIT_FAIL';\n\nexport const DELETE_START = 'DELETE_START';\nexport const DELETE_FAIL = 'DELETE_FAIL';\n\nexport const ADD_BOOK_START = 'ADD_BOOK_START';\nexport const ADD_BOOK_SUCCESS = 'ADD_BOOK_SUCCESS';\nexport const ADD_BOOK_FAIL = 'ADD_BOOK_FAIL';\n\nexport const DELETE_BOOK_START = 'DELETE_BOOK_START';\nexport const DELETE_BOOK_SUCCESS = 'DELETE_BOOK_SUCCESS';\n\nexport const ADD_BOOK_REVIEW_START = 'ADD_BOOK_REVIEW_START';\nexport const ADD_BOOK_REVIEW_SUCCESS = 'ADD_BOOK_REVIEW_SUCCESS';\nexport const ADD_BOOK_REVIEW_FAIL = 'ADD_BOOK_REVIEW_FAIL';\n\nexport const DELETE_BOOK_REVIEW_START = 'DELETE_BOOK_REVIEW_START';\nexport const DELETE_BOOK_REVIEW_SUCCESS = 'DELETE_BOOK_REVIEW_SUCCESS';\nexport const DELETE_BOOK_REVIEW_FAIL = 'DELETE_BOOK_REVIEW_FAIL';\n","import {compose, createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport firebase from '../Firebase/Firebase';\nimport {reactReduxFirebase, getFirebase} from 'react-redux-firebase';\nimport {reduxFirestore, getFirestore} from 'redux-firestore';\n\nimport rootReducer from './reducers';\n\nconst rrfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true,\n  attachAuthIsReady: true\n};\n\nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose : compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(\n    reactReduxFirebase(firebase, rrfConfig),\n    reduxFirestore(firebase),\n    applyMiddleware(\n      thunk.withExtraArgument({\n        getFirebase,\n        getFirestore\n      })\n    )\n  )\n);\n\nexport default store;\n","const theme = {\n  colors: {\n    main: '#465fe9',\n    yellow: '#ffa800',\n    yellowDark: '#ed9c00',\n    gray: '#858585',\n    textColor: '#2b2b2b',\n    whiteColor: '#fff',\n    errorRed: '#ff3d2b',\n    green: '#43a047',\n    shadow: '0 0 1px rgba(0,0,0,.04), 0 2px 6px rgba(0,0,0,.04), 0 10px 20px rgba(0,0,0,.04)'\n  },\n\n  mediaQueries: {\n    smallest: 'only screen and (max-width: 25em)',\n    small: 'only screen and (max-width: 37.5em)',\n    medium: 'only screen and (max-width: 56em)',\n    large: 'only screen and (max-width: 80em)',\n    largest: 'only screen and (max-width: 90em)'\n  }\n};\n\nexport default theme;\n","import {createGlobalStyle} from \"styled-components\";\n\nexport default createGlobalStyle `\n  *,\n  *::before,\n  *::after {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    outline: none;\n  }\n\n  html {\n    font-size: 62.5%;\n    --color-main: ${props => props.theme.colors.main};\n    --color-textColor: ${props => props.theme.colors.textColor};\n    --color-whiteColor: ${props => props.theme.colors.whiteColor};\n    --color-errorRed: ${props => props.theme.colors.errorRed};\n    --color-green: ${props => props.theme.colors.green};\n    --color-yellow: ${props => props.theme.colors.yellow};\n    --color-yellowDark: ${props => props.theme.colors.yellowDark};\n    --color-gray: ${props => props.theme.colors.gray};\n    --shadow: ${props => props.theme.colors.shadow};\n\n    @media ${props => props.theme.mediaQueries.small} {\n      font-size: 60%;\n    }\n\n    @media ${props => props.theme.mediaQueries.smallest} {\n      font-size: 55%;\n    }\n  }\n\n  body {\n    font-family: 'Roboto', sans-serif;\n    font-weight: 400;\n    line-height: 1.5;\n    overflow-x: hidden;\n  }\n\n  a, input, textarea, button, select {\n    font-family: inherit;\n    text-decoration: none;\n    transition: .3s all;\n  }\n\n  a, button{\n    cursor: pointer;\n  }\n\n  a{\n    color: var(--color-main);\n    &:hover{\n      color: var(--color-yellow);\n    }\n  }\n  \n  button {\n    border: none!important;\n  }\n`;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport logo from '../../img/logo.svg';\nimport styled from 'styled-components';\n\nconst LogoWrapper = styled(Link) `\n  display: block;\n  margin-left: 1.5rem;\n`;\n\nconst Logo = () => {\n  return (\n    <LogoWrapper to=\"/\">\n      <img src={logo} alt=\"ems\" width=\"50\" />\n    </LogoWrapper>\n  )\n};\n\nexport default Logo;\n","import styled from 'styled-components';\nimport {Form} from 'formik';\n\nexport const Container = styled.div `\n  width: 100%;\n  max-width: 140rem;\n  height: 100%;\n  margin: 0 auto;\n  padding: 0 1.5rem;\n  align-self: ${({selfStart}) => (selfStart ? 'flex-start' : 'center')};\n\n  @media ${props => props.theme.mediaQueries.medium} {\n    padding: 0;\n  }\n`;\n\nexport const FormWrapper = styled.div `\n  width: 100%;\n  max-width: ${({contain}) => (contain ? 'none' : '50rem')};\n  border-radius: 1rem;\n  background-color: var(--color-whiteColor);\n  box-shadow: var(--shadow);\n  padding: 3rem;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 auto;\n`;\n\nexport const StyledForm = styled(Form) `\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  position: relative;\n  align-items: center;\n`;\n\nexport const TitlesWrapper = styled.div`\n  text-align: center;\n`;\n\nexport const SelectWrapper = styled.div `\n  position: relative;\n  margin-bottom: 2.5rem;\n  width: 100%;\n`;\n\nexport const StyledSelect = styled.select `\n  display: block;\n  padding: 1rem 1.5rem;\n  background-color: var(--color-whiteColor);\n  border: 1px solid var(--color-textColor);\n  color: var(--color-textColor);\n  font-weight: 500;\n  font-size: 1.4rem;\n  border-radius: .5rem;\n  width: 100%;\n  transition: .2s all;\n\n  &:hover, &:focus{\n    border: 1px solid var(--color-yellow);\n  }\n`;\n\nexport const Error = styled.div `\n  color: var(--color-errorRed);\n  font-weight: 500;\n  font-size: 1.2rem;\n  padding: 0rem 1.5rem;\n  visibility: ${({show}) => (show ? 'visible' : 'hidden')};\n  opacity: ${({show}) => (show ? '1' : '0')};\n  transform: ${({show}) => (show ? 'translateY(20px)' : 'translateY(10px)')};\n  transition: all .1s;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n`;\n\nexport const StyledInput = styled.input `\n  padding: 1rem 1.5rem;\n  background-color: var(--color-whiteColor);\n  border: 1px solid var(--color-textColor);\n  color: var(--color-textColor);\n  font-weight: 500;\n  font-size: 1.4rem;\n  border-radius: .5rem;\n  width: 100%;\n\n  &:hover, &:focus{\n    border: 1px solid var(--color-yellow);\n  }\n\n  &::placeholder{\n    color: var(--color-gray);\n  }\n`;\n\nexport const StyledTextarea = styled.textarea `\n  padding: 1rem 1.5rem;\n  background-color: var(--color-whiteColor);\n  border: 1px solid var(--color-textColor);\n  color: var(--color-textColor);\n  font-weight: 500;\n  font-size: 1.4rem;\n  border-radius: .5rem;\n  width: 100%;\n  resize: none;\n  min-height: 10rem;\n  white-space: pre-wrap;\n\n  &:hover, &:focus{\n    border: 1px solid var(--color-yellow);\n  }\n\n  &::placeholder{\n    color: var(--color-gray);\n  }\n`;\n\nexport const ButtonsWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-around;\n  position: relative;\n  flex-wrap: wrap;\n\n  @media ${props => props.theme.mediaQueries.medium} {\n    flex-direction: column;\n  }\n\n  button{\n    &:first-child{\n      @media ${props => props.theme.mediaQueries.medium} {\n        margin-bottom: 1.5rem;\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst Li = styled.li `\n  display: flex;\n  height: 100%;\n`;\n\nconst StyledNavLink = styled(NavLink) `\n  display: flex;\n  align-items: center;\n  font-size: 1.6rem;\n  padding: 0 1rem;\n  color: var(--color-textColor);\n  transition: all 0.2s;\n  @media ${props => props.theme.mediaQueries.small} {\n    font-size: 2rem;\n  }\n  &:hover, &.active {\n    color: var(--color-yellow);\n  }\n  &.active{\n    font-weight: 700;\n  }\n`;\n\nconst NavItem = ({link, children}) => {\n  return (\n    <Li>\n      <StyledNavLink\n        exact\n        activeClassName=\"active\"\n        to={link}\n      >\n        {children}\n      </StyledNavLink>\n    </Li>\n  );\n}\n\nexport default NavItem;\n","import React from 'react';\nimport NavItem from './NavItem/NavItem';\nimport styled from 'styled-components';\n\nconst Nav = styled.nav`\n  display: flex;\n  margin-top: ${props => (props.mobile ? '-6rem' : null)};\n`;\n\nconst Ul = styled.ul`\n  display: flex;\n  flex-direction: ${props => (props.mobile ? 'column' : 'row')};\n  align-items: center;\n  height: 100%;\n`;\n\nconst Label = styled.span `\n  padding-left: .5rem;\n\n  @media ${props => props.theme.mediaQueries.small} {\n    display: none;\n  }\n`;\n\nconst NavItems = ({loggedIn, emailVerified}) => {\n  let links;\n\n  if (loggedIn && emailVerified) {\n    links = (\n      <Ul>\n        <NavItem link='/'>\n          <i className=\"fas fa-book\"></i>\n          <Label>\n            Библиотека\n          </Label>\n        </NavItem>\n        <NavItem link='/profile'>\n          <i className=\"far fa-user\"></i>\n          <Label>\n            Профиль\n          </Label>\n        </NavItem>\n        <NavItem link='/logout'>\n          <i className=\"fas fa-sign-out-alt\"></i>\n          <Label>\n            Выйти\n          </Label>\n        </NavItem>\n      </Ul>\n    );\n  } else {\n    links = (\n      <Ul>\n        <NavItem link='/login'>\n         <i className=\"fas fa-sign-in-alt\"></i>\n          <Label>\n            Вход\n          </Label>\n        </NavItem>\n        <NavItem link='/signup'>\n          <i className=\"fas fa-user-plus\"></i>\n          <Label>\n            Регистрация\n          </Label>\n        </NavItem>\n      </Ul>\n    );\n  }\n\n  return (\n    <Nav>\n      {links}\n    </Nav>\n  )\n}\n\nexport default NavItems;\n","import React from 'react';\nimport Logo from '../../Logo/Logo';\nimport {Container} from \"../../../hoc/layout/elements\";\nimport NavItems from '../NavItems/NavItems';\nimport styled from 'styled-components';\n\nconst FixedWrapper = styled.header `\n  position: fixed;\n  background-color: var(--color-whiteColor);\n  height: 6rem;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 20;\n  box-shadow: var(--shadow);\n  display: block;\n`;\n\nconst Wrapper = styled.div `\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n`;\n\nexport const Navbar = ({loggedIn, emailVerified}) => {\n  return (\n    <FixedWrapper>\n      <Container>\n        <Wrapper>\n        <Logo />\n          <NavItems loggedIn={loggedIn} emailVerified={emailVerified} />\n        </Wrapper>\n      </Container>\n    </FixedWrapper>\n  )\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nimport Navbar from \"../../components/Navigation/Navbar/Navbar\";\n\nimport styled from 'styled-components';\n\nconst MainWrapper = styled.main `\n  width: 100vw;\n  margin-top: 6rem;\n  left: 0;\n  min-height: calc(100vh - 6rem);\n  padding: 4rem 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow-y: auto;\n  display: block;\n`;\n\nconst Layout = ({children, loggedIn, emailVerified}) => (\n  <Scrollbars style={{ height: '100vh', width: '100vw' }}>\n    <Navbar emailVerified={emailVerified} loggedIn={loggedIn} />\n    <MainWrapper>{children}</MainWrapper>\n  </Scrollbars>\n);\n\nexport default Layout;","import React from 'react';\nimport {Error, StyledInput} from '../../../../hoc/layout/elements';\nimport styled from 'styled-components';\n\nconst InputWrapper = styled.div `\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  margin-bottom: 2.5rem;\n\n  &:last-of-type {\n    margin-bottom: 4.5rem;\n  }\n`;\n\nconst Input = ({field, form: {touched, errors}, ...props}) => {\n  return (\n    <InputWrapper>\n      <StyledInput {...field} {...props} />\n      <Error show={errors[field.name] && touched[field.name]}>{errors[field.name]}</Error>\n    </InputWrapper>\n  );\n};\n\nexport default Input;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledButton = styled.button `\n  width: ${({contain}) => (contain ? 'auto' : '100%')};\n  padding: 1.2rem;\n  height: 4rem;\n  position: relative;\n  border-radius: .5rem;\n  font-size: 1.4rem;\n  color: var(--color-whiteColor);\n  font-weight: 700;\n  background-color: ${({deleted, warning}) => (deleted ? 'var(--color-errorRed)' : warning ? 'var(--color-yellow)' : 'var(--color-main)')};\n  &:hover, &:active {\n    background-color: ${({deleted, warning}) => (deleted ? 'var(--color-errorRed)' : warning ? 'var(--color-yellowDark)' : 'var(--color-yellow)')};\n  }\n  &:disabled {\n    cursor: not-allowed;\n    background-color: var(--color-textColor);\n    color: var(--color-whiteColor);\n  }\n`;\n\nconst Button = ({children, disabled, warning, loading, deleted, contain, ...rest}) => {\n  return (\n    <StyledButton contain={contain} warning={warning} deleted={deleted} disabled={disabled} {...rest}>\n      {loading ? loading : children}\n    </StyledButton>\n  )\n};\n\nexport default Button;\n","import React from 'react';\nimport styled, {css} from 'styled-components';\n\nconst baseStyle = css `\n  color: var(--color-textColor);\n  font-weight: ${({bold}) => (bold ? '700' : '400')};\n  margin-top: 0;\n  margin-bottom: ${({noMargin}) => (noMargin ? '0' : '2rem')};\n  white-space: ${({preWrap}) => (preWrap ? 'pre-wrap' : 'normal')};\n`;\n\nconst Heading1 = styled.h1 `\n  font-size: 4rem;\n  ${baseStyle}\n`;\n\nconst Heading2 = styled.h2 `\n  font-size: 3rem;\n  ${baseStyle}\n`;\n\nconst Heading3 = styled.h3 `\n  font-size: 2rem;\n  ${baseStyle}\n`;\n\nconst Heading4 = styled.h4 `\n  font-size: 1.5rem;\n  ${baseStyle}\n`;\n\nconst Heading = ({children, color, noMargin, size, bold, isDone, preWrap}) => {\n  if (size === 'h1') {\n    return (\n      <Heading1 preWrap={preWrap} isDone={isDone} noMargin={noMargin} color={color} bold={bold}>\n        {children}\n      </Heading1>\n    );\n  }\n\n  if (size === 'h2') {\n    return (\n      <Heading2 preWrap={preWrap} isDone={isDone} noMargin={noMargin} color={color} bold={bold}>\n        {children}\n      </Heading2>\n    );\n  }\n\n  if (size === 'h3') {\n    return (\n      <Heading3 preWrap={preWrap} isDone={isDone} noMargin={noMargin} color={color} bold={bold}>\n        {children}\n      </Heading3>\n    );\n  }\n\n  if (size === 'h4') {\n    return (\n      <Heading4 preWrap={preWrap} isDone={isDone} noMargin={noMargin} color={color} bold={bold}>\n        {children}\n      </Heading4>\n    );\n  }\n};\n\nexport default Heading;\n","import * as actions from './actionTypes';\n\n// Sign up action creator\nexport const signUp = data => async (dispatch, getState, {getFirebase, getFirestore}) => {\n  const firebase = getFirebase();\n  const firestore = getFirestore();\n  dispatch({type: actions.AUTH_START});\n  try {\n    const res = await firebase\n      .auth()\n      .createUserWithEmailAndPassword(data.mail, data.password);\n\n      // Send the verification email\n    const user = firebase.auth().currentUser;\n    await user.sendEmailVerification();\n\n    await firestore\n      .collection('users')\n      .doc(res.user.uid)\n      .set({\n        firstName: data.firstName,\n        lastName: data.lastName,\n        team: data.team,\n        email: data.mail\n      });\n      dispatch({type: actions.AUTH_SUCCESS});\n  } catch(err) {\n    dispatch({type: actions.AUTH_FAILED, payload: err.message});\n  }\n  dispatch({type: actions.AUTH_END});\n};\n\n// Log out action creator\nexport const signOut = () => async (dispatch, getState, {getFirebase}) => {\n  const firebase = getFirebase();\n  \n  try {\n    await firebase.auth().signOut();\n    firebase.logout();\n  } catch (err) {\n    alert(`${err.message}`)\n  }\n};\n\n// Log in action creator\nexport const signIn = (data) => async (dispatch, getState, {getFirebase}) => {\n  const firebase = getFirebase();\n  dispatch({type: actions.AUTH_START});\n  try {\n    await firebase.auth().signInWithEmailAndPassword(data.email, data.password);\n    dispatch({type: actions.AUTH_SUCCESS});\n  } catch (err) {\n    dispatch({type: actions.AUTH_FAILED, payload: err.message});\n  }\n  dispatch({type: actions.AUTH_END});\n};\n\n// Clean up messages\nexport const clean = () => ({\n  type: actions.CLEAN_UP\n});\n\n// Verify email action\nexport const verifyEmail = () => async (dispatch, getState, {getFirebase}) => {\n  const firebase = getFirebase();\n  dispatch({type: actions.VERIFY_START});\n  try {\n    const user = firebase.auth().currentUser;\n    await user.sendEmailVerification();\n    dispatch({type: actions.VERIFY_SUCCESS});\n  } catch (err) {\n    dispatch({type: actions.VERIFY_FAIL, payload: err.message});\n  }\n};\n\n// Send recovery password\nexport const recoverPassword = (data) => async (dispatch, getState, {getFirebase}) => {\n  const firebase = getFirebase();\n  dispatch({type: actions.RECOVERY_START});\n  try {\n    await firebase.auth().sendPasswordResetEmail(data.email);\n    dispatch({type: actions.RECOVERY_SUCCESS});\n  } catch (err) {\n    dispatch({type: actions.RECOVERY_FAIL, payload: err.message});\n  }\n};\n\n// Edit profile\nexport const editProfile = (data) => async (dispatch, getState, {getFirebase, getFirestore}) => {\n  const firebase = getFirebase();\n  const firestore = getFirestore();\n  const user = firebase.auth().currentUser;\n  const {uid: userId, email: userEmail} = getState().firebase.auth;\n  dispatch({type: actions.PROFILE_EDIT_START});\n  try {\n    if (data.email !== userEmail) {\n      await user.updateEmail(data.email);\n    }\n\n    await firestore.collection('users').doc(userId).set({\n      firstName: data.firstName,\n      lastName: data.lastName,\n      email: data.email,\n    });\n\n    if (data.password.length > 0) {\n      await user.updatePassword(data.password);\n    }\n\n    dispatch({type: actions.PROFILE_EDIT_SUCCESS});\n  } catch (err) {\n    dispatch({type: actions.PROFILE_EDIT_FAIL, payload: err.message});\n  }\n};\n\n// Delete user\nexport const deleteUser = () => async (dispatch, getState, {getFirebase, getFirestore}) => {\n  const firebase = getFirebase();\n  const firestore = getFirestore();\n  const user = firebase.auth().currentUser;\n  const userId = getState().firebase.auth.uid;\n  dispatch({type: actions.DELETE_START});\n  try {\n    await firestore.collection('users').doc(userId).delete();\n    await firestore.collection('todos').doc(userId).delete();\n    await user.delete();\n  } catch (err) {\n    dispatch({type: actions.DELETE_FAIL, payload: err.message});\n  }\n};\n","import * as actions from './actionTypes';\r\n\r\n// Add book\r\nexport const addBook = data => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const user = {\r\n    name: getState().firebase.profile.firstName,\r\n    lastName: getState().firebase.profile.lastName\r\n  };\r\n  dispatch({type: actions.ADD_BOOK_START});\r\n  try {\r\n    const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n    const newBook = {\r\n      id: new Date().valueOf(),\r\n      bookAuthor: data.bookAuthor,\r\n      bookName: data.bookName,\r\n      items: Number(data.items),\r\n      location: 'office',\r\n      renter: [],\r\n      category: data.category,\r\n      user\r\n    };\r\n\r\n    if (!res.data()) {\r\n      firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').set({\r\n        books: [\r\n          newBook\r\n        ]\r\n      });\r\n    } else {\r\n      firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n        books: [\r\n          ...res.data().books,\r\n          newBook\r\n        ]\r\n      });\r\n    }\r\n\r\n    dispatch({type: actions.ADD_BOOK_SUCCESS});\r\n    return true;\r\n  } catch (err) {\r\n    dispatch({type: actions.ADD_BOOK_FAIL, payload: err.message});\r\n  }\r\n};\r\n\r\n// Delete book\r\nexport const deleteBook = (bookId) => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  dispatch({type: actions.DELETE_BOOK_START});\r\n  const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n  const previousBooks = res.data().books;\r\n  const newBooks = previousBooks.filter(book => book.id !== bookId);\r\n\r\n  await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n    books: newBooks\r\n  });\r\n\r\n  dispatch({type: actions.DELETE_BOOK_SUCCESS});\r\n};\r\n\r\n// Rent book\r\nexport const rentBook = (bookId) => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  const firstName = getState().firebase.profile.firstName;\r\n  const lastName = getState().firebase.profile.lastName;\r\n  const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n  const books = res.data().books;\r\n  const index = books.findIndex(book => book.id === bookId);\r\n  const newRenter = {\r\n    userId,\r\n    firstName,\r\n    lastName\r\n  };\r\n  books[index].renter = [\r\n    ...books[index].renter,\r\n    newRenter\r\n  ];\r\n  books[index].items = books[index].items - 1;\r\n\r\n  await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n    books\r\n  });\r\n};\r\n\r\n// Return book\r\nexport const returnBook = (bookId) => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n  const books = res.data().books;\r\n  const index = books.findIndex(book => book.id === bookId);\r\n  const userIndex = books[index].renter.findIndex(user => user.userId === userId);\r\n\r\n  books[index].renter = [\r\n    ...books[index].renter.slice(0, userIndex),\r\n    ...books[index].renter.slice(userIndex + 1),\r\n  ];\r\n\r\n  books[index].items = books[index].items + 1;\r\n\r\n  await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n    books\r\n  });\r\n};\r\n\r\n// Add book review\r\nexport const addBookReview = (data) => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  const firstName = getState().firebase.profile.firstName;\r\n  const lastName = getState().firebase.profile.lastName;\r\n  dispatch({type: actions.ADD_BOOK_REVIEW_START});\r\n  try {\r\n    const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n    const books = res.data().books;\r\n    const index = books.findIndex(book => book.id === +data.bookId);\r\n    const newReview = {\r\n      id: new Date().valueOf(),\r\n      userId,\r\n      firstName,\r\n      lastName,\r\n      review: data.review,\r\n      rating: data.rating\r\n    };\r\n    if (books[index].reviews) {\r\n      books[index].reviews = [\r\n        ...books[index].reviews,\r\n        newReview\r\n      ];\r\n    } else {\r\n      books[index] = {\r\n        ...books[index],\r\n        reviews: [\r\n          newReview\r\n        ]\r\n      };\r\n    }\r\n\r\n    await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n      books\r\n    });\r\n    dispatch({type: actions.ADD_BOOK_REVIEW_SUCCESS});\r\n    return true;\r\n  } catch (err) {\r\n    dispatch({type: actions.ADD_BOOK_REVIEW_FAIL, payload: err.message});\r\n  }\r\n};\r\n\r\n// Delete book review\r\nexport const deleteBookReview = (id) => async (dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  dispatch({type: actions.DELETE_BOOK_REVIEW_START});\r\n  try {\r\n    const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n    const books = res.data().books;\r\n    const index = books.findIndex(book => book.id === +id);\r\n    const reviews = books[index].reviews;\r\n    const reviewIndex = reviews.findIndex(review => review.userId === userId);\r\n    \r\n    books[index].reviews = [\r\n      ...reviews.slice(0, reviewIndex),\r\n      ...reviews.slice(reviewIndex + 1)\r\n    ];\r\n\r\n    await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n      books: books\r\n    });\r\n\r\n    dispatch({type: actions.DELETE_BOOK_REVIEW_SUCCESS});\r\n  } catch (err) {\r\n    dispatch({type: actions.DELETE_BOOK_REVIEW_FAIL, payload: err.message});\r\n  }\r\n};\r\n\r\n// Like book\r\nexport const likeBook = (data) => async(dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  const firstName = getState().firebase.profile.firstName;\r\n  const lastName = getState().firebase.profile.lastName;\r\n  const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n  const books = res.data().books;\r\n  const index = books.findIndex(book => book.id === +data);\r\n  const newLike = {\r\n    userId,\r\n    firstName,\r\n    lastName\r\n  };\r\n  if (books[index].likes) {\r\n    books[index].likes = [\r\n      ...books[index].likes,\r\n      newLike\r\n    ];\r\n  } else {\r\n    books[index] = {\r\n      ...books[index],\r\n      likes: [\r\n        newLike\r\n      ]\r\n    };\r\n  }\r\n\r\n  await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n    books\r\n  });\r\n};\r\n\r\n// Delete like\r\nexport const deleteLike = (data) => async (dispatch, getState, {getFirestore}) => {\r\n  const firestore = getFirestore();\r\n  const userId = getState().firebase.auth.uid;\r\n  const res = await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').get();\r\n  const books = res.data().books;\r\n  const index = books.findIndex(book => book.id === +data);\r\n  const likes = books[index].likes;\r\n  const likeIndex = likes.findIndex(like => like.userId === userId);\r\n  \r\n  books[index].likes = [\r\n    ...likes.slice(0, likeIndex),\r\n    ...likes.slice(likeIndex + 1)\r\n  ];\r\n\r\n  await firestore.collection('books').doc('HcDMDWiNBUTVf5Urkid6').update({\r\n    books: books\r\n  });\r\n};","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: ${({ color }) =>\n  color === 'white' ? 'var(--color-whiteColor)' : 'var(--color-textColor)'};\n  font-weight: 700;\n  padding: 1rem 2rem;\n  font-size: 1.4rem;\n  cursor: pointer;\n  display: block;\n  text-align: center;\n  &:active {\n    color: var(--color-yellow);\n  }\n`;\n\nconst CustomLink = ({ link, color, children }) => {\n  return (\n    <StyledLink to={link} color={color}>\n      {children}\n    </StyledLink>\n  );\n};\n\nexport default CustomLink;","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst SpinnewWrapper = styled.div `\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 10;\n  width: ${({isBtn}) => (isBtn ? '23px' : '50px')};\n  height: ${({isBtn}) => (isBtn ? '23px' : '50px')};\n  position: ${({isBtn, isAbsolute}) => (isBtn || isAbsolute ? 'absolute' : 'fixed')};\n`;\n\nconst StyledSpinner = styled.svg`\n  animation: rotate 1s linear infinite;\n  margin: ${({isBtn}) => (isBtn ? 'auto' : '0')};\n  width: ${({isBtn}) => (isBtn ? '23px' : '50px')};\n  height: ${({isBtn}) => (isBtn ? '23px' : '50px')};\n\n  & .path {\n    stroke: ${({isBtn}) => (isBtn ? 'white' : '#2b2b2b')};\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n`;\n\nconst Loader = ({isBtn, isAbsolute}) => (\n  <SpinnewWrapper isBtn={isBtn} isAbsolute={isAbsolute}>\n    <StyledSpinner isBtn={isBtn} viewBox={isBtn ? '0 0 26 26' : '0 0 50 50'}>\n      <circle\n        className=\"path\"\n        cx={isBtn ? '13' : '25'}\n        cy={isBtn ? '13' : '25'}\n        r={isBtn ? '10' : '20'}\n        fill=\"none\"\n        strokeWidth=\"2\"\n      />\n    </StyledSpinner>\n  </SpinnewWrapper>\n);\n\nexport default Loader;\n","import React, {useEffect} from 'react';\nimport {Helmet} from \"react-helmet\";\nimport { useAlert } from 'react-alert';\nimport {connect} from 'react-redux';\nimport {Formik, Field} from 'formik';\nimport * as Yup from 'yup';\nimport {Container, TitlesWrapper, StyledForm, FormWrapper} from '../../../hoc/layout/elements';\nimport Input from '../../../components/UI/Forms/Input/Input';\nimport Button from '../../../components/UI/Forms/Button/Button';\nimport Heading from '../../../components/UI/Headings/Heading';\nimport * as actions from '../../../store/actions';\nimport CustomLink from '../../../components/UI/CustomLink/CustomLink';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Не корректный e-mail')\n    .required('Поле e-mail обязательно'),\n  password: Yup.string()\n    .required('Поле пароль обязательно')\n    .min(8, 'Минимальное кол-во символов 8')\n});\n\nconst Login = ({login, loading, error, cleanUp}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const alert = useAlert();\n  \n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: ''\n      }}\n      validationSchema={LoginSchema}\n      onSubmit={async (values, {setSubmitting}) => {\n        await login(values);\n        setSubmitting(false);\n\n        if (error) {\n          alert.error(`${error}`)\n        }\n      }}\n    >\n      {({isSubmiting, isValid}) => (\n        <Container>\n          <Helmet>\n            <title>Login to library ems</title>\n          </Helmet>\n          <FormWrapper>\n            <TitlesWrapper>\n              <Heading bold size=\"h2\">\n                Войти в&nbsp;аккаунт\n              </Heading>\n            </TitlesWrapper>\n            <StyledForm>\n              <Field\n                type='email'\n                name='email'\n                placeholder='E-mail'\n                component={Input}\n              />\n              <Field\n                type='password'\n                name='password'\n                placeholder='Пароль'\n                component={Input}\n              />\n              <Button\n                disabled={!isValid || isSubmiting}\n                type=\"submit\"\n                loading={loading ? <Loader isBtn /> : null}\n              >\n                Войти\n              </Button>\n              <CustomLink link=\"/recover\">\n                Забыли пароль?\n              </CustomLink>\n            </StyledForm>\n          </FormWrapper>\n        </Container>\n      )}\n    </Formik>\n  );\n};\n\nconst mapStateToProps = ({auth}) => ({\n  loading: auth.loading,\n  error: auth.error\n});\n\nconst mapDispatchToProps = {\n  login: actions.signIn,\n  cleanUp: actions.clean\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","export const validateEmail = (value) => {\r\n  let error;\r\n  if (!value) {\r\n    error = 'Поле email обязательно';\r\n  } else if (!/^[a-z0-9](\\.?[a-z0-9]){5,}@(emailsoldiers|creativesoldiers|leadplan)\\.(ru|com)$/g.test(value)) {\r\n    error = 'Только для доменов @emailsoldiers, @creativesoldiers, @leadplan';\r\n  }\r\n  return error;\r\n};\r\n\r\nexport const booksFilter = [\r\n  {\r\n    value: 'all',\r\n    label: 'Все книги'\r\n  },\r\n  {\r\n    value: 'sales',\r\n    label: 'Чтобы легко продавать'\r\n  },\r\n  {\r\n    value: 'work-fast',\r\n    label: 'Чтобы всё успевать'\r\n  },\r\n  {\r\n    value: 'personal-growth',\r\n    label: 'Личностный рост'\r\n  },\r\n  {\r\n    value: 'people-managment',\r\n    label: 'Управление людьми'\r\n  },\r\n  {\r\n    value: 'projects-managment',\r\n    label: 'Управление проектами'\r\n  },\r\n  {\r\n    value: 'marketing',\r\n    label: 'Про маркетинг'\r\n  },\r\n  {\r\n    value: 'dev',\r\n    label: 'Про разработку'\r\n  },\r\n  {\r\n    value: 'analitycs',\r\n    label: 'Про аналитику'\r\n  },\r\n  {\r\n    value: 'design',\r\n    label: 'Про дизайн'\r\n  },\r\n  {\r\n    value: 'art',\r\n    label: 'Про искусство'\r\n  },\r\n  {\r\n    value: 'talking',\r\n    label: 'Чтобы уметь договариваться'\r\n  },\r\n  {\r\n    value: 'busines',\r\n    label: 'Про бизнес'\r\n  },\r\n  {\r\n    value: 'conflicts',\r\n    label: 'Чтобы управлять конфликтами'\r\n  },\r\n  {\r\n    value: 'mentors',\r\n    label: 'Быть хорошим наставником'\r\n  },\r\n  {\r\n    value: 'fiction',\r\n    label: 'Художественная литература'\r\n  }\r\n];\r\n\r\nexport const bookRating = [\r\n  {\r\n    value: '1',\r\n    label: '1'\r\n  },\r\n  {\r\n    value: '2',\r\n    label: '2'\r\n  },\r\n  {\r\n    value: '3',\r\n    label: '3'\r\n  },\r\n  {\r\n    value: '4',\r\n    label: '4'\r\n  },\r\n  {\r\n    value: '5',\r\n    label: '5'\r\n  },\r\n];\r\n","import React, {useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport { useAlert } from 'react-alert';\nimport {connect} from 'react-redux';\nimport {Formik, Field} from 'formik';\nimport * as Yup from 'yup';\nimport {Container, TitlesWrapper, StyledForm, FormWrapper} from '../../../hoc/layout/elements';\nimport Input from '../../../components/UI/Forms/Input/Input';\nimport Button from '../../../components/UI/Forms/Button/Button';\nimport Heading from '../../../components/UI/Headings/Heading';\nimport Loader from '../../../components/UI/Loader/Loader';\nimport * as actions from '../../../store/actions';\nimport {validateEmail} from '../../../utils';\n\nconst SignUpSchema = Yup.object().shape({\n  firstName: Yup.string()\n    .required('Поле имя обязательно')\n    .min(3, 'Мин кол-во символов 3')\n    .max(25, 'Макс кол-во символов 25'),\n  lastName: Yup.string()\n    .required('Поле фамилия обязательно')\n    .min(3, 'Мин кол-во символов 3')\n    .max(25, 'Макс кол-во символов 25'),\n  password: Yup.string()\n    .required('Поле пароль обязательно')\n    .min(8, 'Минимальное кол-во символов 8'),\n  confirmPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], `Пароли не совпадают`)\n    .required('Вам необходимо подтвердить пароль')\n});\n\nconst SignUp = ({signUp, loading, error, cleanUp}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const alert = useAlert();\n  \n  return (\n    <Formik\n      initialValues={{\n        firstName: '',\n        lastName: '',\n        team: '',\n        mail: '',\n        password: '',\n        confirmPassword: ''\n      }}\n      validationSchema={SignUpSchema}\n      onSubmit={async (values, {setSubmitting}) => {\n        await signUp(values);\n        setSubmitting(false);\n        if (error) {\n          alert.error(`${error}`)\n        }\n      }}\n    >\n      {({isSubmitting, isValid}) => (\n        <Container>\n          <Helmet>\n            <title>SignUp to library ems</title>\n          </Helmet>\n          <FormWrapper>\n            <TitlesWrapper>\n              <Heading size=\"h2\" bold>\n                Создайте аккаунт\n              </Heading>\n            </TitlesWrapper>\n            <StyledForm>\n              <Field\n                type='text'\n                name='firstName'\n                placeholder='Имя'\n                component={Input}\n              />\n              <Field\n                type='text'\n                name='lastName'\n                placeholder='Фамилия'\n                component={Input}\n              />\n              <Field\n                type='text'\n                name='mail'\n                validate={validateEmail}\n                placeholder='E-mail'\n                component={Input}\n              />\n              <Field\n                type='password'\n                name='password'\n                placeholder='Пароль'\n                component={Input}\n              />\n              <Field\n                type='password'\n                name='confirmPassword'\n                placeholder='Подтвердите пароль'\n                component={Input}\n              />\n              <Button\n                disabled={!isValid || isSubmitting}\n                type=\"submit\"\n                loading={loading ? <Loader isBtn /> : null}\n              >\n                Зарегистрироваться\n              </Button>\n            </StyledForm>\n          </FormWrapper>\n        </Container>\n      )}\n    </Formik>\n  );\n};\n\nconst mapStateToProps = ({auth}) => ({\n  loading: auth.loading,\n  error: auth.error\n});\n\nconst mapDispatchToProps = {\n  signUp: actions.signUp,\n  cleanUp: actions.clean\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\n","import {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport * as actions from '../../../store/actions';\n\nconst Logout = ({logout}) => {\n  useEffect(() => {\n    logout();\n  }, [logout]);\n  return null;\n};\n\nconst mapDispatchToProps = {\n  logout: actions.signOut\n};\n\nexport default connect(null, mapDispatchToProps)(Logout);\n","import React, {useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport { useAlert } from 'react-alert';\nimport {connect} from 'react-redux';\nimport Heading from '../../../components/UI/Headings/Heading';\nimport Button from '../../../components/UI/Forms/Button/Button';\nimport {Container, TitlesWrapper, FormWrapper} from '../../../hoc/layout/elements';\nimport * as actions from '../../../store/actions';\n\nimport styled from 'styled-components';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nconst Wrapper = styled.div `\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst VerifyEmail = ({sendVerification, error, loading, cleanUp}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const alert = useAlert();\n  \n  if (error) {\n    alert.error(`${error}`)\n  }\n\n  return (\n    <Container>\n      <Helmet>\n        <title>Email verification</title>\n      </Helmet>\n      <FormWrapper>\n        <Wrapper>\n          <TitlesWrapper>\n            <Heading noMargin size='h2' bold>\n              Подтвердите регистрацию\n            </Heading>\n            <Heading size='h4' bold>\n              Перейдите в&nbsp;почтовый ящик и&nbsp;откройте ссылку в&nbsp;письме, для подтверждения регистрации. После вернитесь в&nbsp;приложение и&nbsp;перезагрузите страницу.\n            </Heading>\n          </TitlesWrapper>\n          <Button\n            loading={loading ? <Loader isBtn /> : null}\n            onClick={\n              () => {\n                sendVerification();\n                if (loading === false && error === false) {\n                  alert.success('Сообщение успешно отправлено!')\n                }\n              }\n            }\n            disabled={loading}\n          >\n            Отправить еще раз\n          </Button>\n        </Wrapper>\n      </FormWrapper>\n    </Container>\n  )\n};\n\nconst mapStateToProps = ({auth}) => ({\n  loading: auth.verifyEmail.loading,\n  error: auth.verifyEmail.error\n});\n\nconst mapDispatchToProps = {\n  sendVerification: actions.verifyEmail,\n  cleanUp: actions.clean\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VerifyEmail);\n","import React, {useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport { useAlert } from 'react-alert';\nimport {connect} from 'react-redux';\nimport {Formik, Field} from 'formik';\nimport * as Yup from 'yup';\nimport * as actions from '../../../store/actions';\nimport {FormWrapper, StyledForm, TitlesWrapper, Container} from '../../../hoc/layout/elements';\nimport Heading from '../../../components/UI/Headings/Heading';\nimport Input from '../../../components/UI/Forms/Input/Input';\nimport Button from '../../../components/UI/Forms/Button/Button';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nconst RecoverSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Некорректный e-mail')\n    .required('Поле e-mail обязательно')\n});\n\nconst RecoverPassword = ({sendEmail, error, loading, cleanUp}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const alert = useAlert();\n\n  return (\n    <Formik\n      initialValues={{\n        email: ''\n      }}\n      validationSchema={RecoverSchema}\n      onSubmit={async (values, {setSubmitting}) => {\n        await sendEmail(values);\n        setSubmitting(false);\n        if (error) {\n          alert.error(`${error}`)\n        } else {\n          alert.success('Проверьте ваш почтовый ящик')\n        }\n      }}\n    >\n      {({isSubmitting, isValid}) => (\n        <Container>\n          <Helmet>\n            <title>Password recovery</title>\n          </Helmet>\n          <FormWrapper>\n            <TitlesWrapper>\n              <Heading bold size='h2'>\n                Восстановить пароль\n              </Heading>\n            </TitlesWrapper>\n            <StyledForm>\n              <Field\n                type='email'\n                name='email'\n                placeholder='E-mail'\n                component={Input}\n              />\n              <Button\n                disabled={!isValid || isSubmitting}\n                type=\"submit\"\n                loading={loading ? <Loader isBtn /> : null}\n              >\n                Отправить письмо\n              </Button>\n            </StyledForm>\n          </FormWrapper>\n        </Container>\n      )}\n    </Formik>\n  )\n};\n\nconst mapStateToProps = ({auth}) => ({\n  loading: auth.recoverPassword.loading,\n  error: auth.recoverPassword.error\n});\n\nconst mapDispatchToProps = {\n  sendEmail: actions.recoverPassword,\n  cleanUp: actions.clean\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RecoverPassword);\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  opacity: ${({opened}) => (opened ? '1' : '0')};\n  visibility: ${({opened}) => (opened ? 'visible' : 'hidden')};\n  transition: all .1s;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: rgba(0,0,0,.7);\n  z-index: 100;\n`;\n\nconst BackDrop = ({opened, close}) => {\n  return <Wrapper onClick={close} opened={opened} />;\n};\n\nexport default BackDrop;\n","import React from 'react';\nimport ReactDom from 'react-dom';\nimport BackDrop from './BackDrop/BackDrop';\nimport styled from 'styled-components';\n\nconst WrapperModal = styled.div `\n  position: fixed;\n  width: 90%;\n  max-width: 50rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  box-shadow: 0 .5rem 3.5rem var(--shadow);\n  border-radius: .5rem;\n  background-color: var(--color-whiteColor);\n  top: 50%;\n  left: 50%;\n  transform: ${({opened}) => (opened ? 'translate(-50%, -50%)' : 'translate(-50%, -150%)')};\n  opacity: ${({opened}) => (opened ? '1' : '0')};\n  visibility: ${({opened}) => (opened ? 'visible' : 'hidden')};\n  transition: all .1s;\n  z-index: 150;\n  padding: 4rem 3rem;\n`;\n\nconst Modal = React.memo(({opened, close, children}) => {\n  return (\n    ReactDom.createPortal(\n      <React.Fragment>\n        <BackDrop close={close} opened={opened} />\n        <WrapperModal\n          opened={opened}\n        >\n          {children}\n        </WrapperModal>\n      </React.Fragment>,\n      document.getElementById('root-modal')\n    )\n  )\n}, (prevProps, nextProps) => {\n  return prevProps.opened === nextProps.opened;\n});\n\nexport default Modal;\n","import React, {useEffect, useState, Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Helmet} from 'react-helmet';\nimport { useAlert } from 'react-alert';\nimport {connect} from 'react-redux';\nimport {Formik, Field} from 'formik';\nimport * as Yup from 'yup';\nimport * as actions from '../../../store/actions';\nimport {FormWrapper, StyledForm, Container, TitlesWrapper, ButtonsWrapper} from '../../../hoc/layout/elements';\nimport Heading from '../../../components/UI/Headings/Heading';\nimport Input from '../../../components/UI/Forms/Input/Input';\nimport Button from '../../../components/UI/Forms/Button/Button';\nimport Modal from '../../../components/UI/Modal/Modal';\nimport Loader from '../../../components/UI/Loader/Loader';\n\nimport styled from 'styled-components';\n\nconst DeleteWrapper = styled.div`\n  cursor: pointer;\n  color: var(--color-errorRed);\n  font-size: 1.3rem;\n  text-decoration-color: var(--color-errorRed);\n  margin-top: 1rem;\n  font-weight: 700;\n`;\n\nconst ProfileWrapper = styled.div `\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  padding: 0 1.5rem;\n  @media ${props => props.theme.mediaQueries.medium} {\n    flex-direction: column;\n  }\n`;\n\nconst BookRentWrapper = styled.div `\n  width: 60%;\n  @media ${props => props.theme.mediaQueries.medium} {\n    width: 100%;\n    margin-bottom: 2.5rem;\n  }\n`;\n\nconst ProfileEditWrapper = styled.div `\n  width: 35%;\n\n  @media ${props => props.theme.mediaQueries.medium} {\n    width: 100%;\n  }\n\n  div {\n    @media ${props => props.theme.mediaQueries.medium} {\n      width: 100%;\n      max-width: 100%;\n      text-align: center;\n    }\n  }\n`;\n\nconst BookItems = styled.div `\n  position: relative;\n  min-height: 5rem;\n  width: 100%;\n  font-size: 1.6rem;\n`;\n\nconst BookItem = styled(Link) `\n  font-weight: 700;\n  margin-right: 2rem;\n  display: block;\n`;\n\nconst BookItemWrapper = styled.div `\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1.5rem 0;\n  border-bottom: 1px solid var(--color-gray);\n`;\n\nconst ProfileSchema = Yup.object().shape({\n  firstName: Yup.string()\n    .required('Поле имя обязательно')\n    .min(3, 'Мин кол-во символов 3')\n    .max(25, 'Макс кол-во символов 25'),\n  lastName: Yup.string()\n    .required('Поле фамилия обязательно')\n    .min(3, 'Мин кол-во символов 3')\n    .max(25, 'Макс кол-во символов 25'),\n  email: Yup.string()\n    .email('Не корректный e-mail')\n    .required('Поле e-mail обязательно'),\n  password: Yup.string()\n    .min(8, 'Минимальное кол-во символов 8'),\n  confirmPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], `Пароли не совпадают`)\n});\n\nconst Profile = ({firebase, editProfile, loading, error, cleanUp, loadingDelete, erroreDelete, deleteUser, userId, books, doc, returnBook}) => {\n  useEffect(() => {\n    return () => {\n      cleanUp();\n    };\n  }, [cleanUp]);\n\n  const alert = useAlert();\n\n  const [modalOpened, setModalOpened] = useState(false);\n\n  let rentBooks;\n\n  if (books && userId) {\n    const findBooks = books[doc].books.filter(book => (book.renter.filter(renter => renter.userId === userId).length > 0));\n    rentBooks = (\n      findBooks\n    );\n  }\n\n  if (!firebase.profile.isLoaded) return null;\n  return (\n    <Container>\n      <Helmet>\n        <title>Profile edit</title>\n      </Helmet>\n      <ProfileWrapper>\n        <BookRentWrapper>\n          <Heading size=\"h2\" bold>\n            Книги на руках\n          </Heading>\n          <BookItems>\n            {\n              books ?\n              rentBooks.length > 0 ?\n              rentBooks.map((book) => {\n                return (\n                  <BookItemWrapper key={book.id}>\n                    <BookItem to={`/book/${book.id}`}>\n                      {book.bookName}\n                    </BookItem>\n                    <Button\n                      deleted\n                      contain\n                      onClick={async () => await returnBook(book.id)}\n                    >\n                      Вернуть книгу\n                    </Button>\n                  </BookItemWrapper>\n                )\n              }) : <Fragment>У вас нет ни одной книги...</Fragment> : \n              <Loader isAbsolute />\n            }\n          </BookItems>\n        </BookRentWrapper>\n        <ProfileEditWrapper>\n          <Formik\n            initialValues={{\n              firstName: firebase.profile.firstName,\n              lastName: firebase.profile.lastName,\n              email: firebase.auth.email,\n              password: '',\n              confirmPassword: '',\n            }}\n            validationSchema={ProfileSchema}\n            onSubmit={async (values, {setSubmitting}) => {\n              await editProfile(values);\n              setSubmitting(false);\n            \n              if (error) {\n                alert.error(`${error}`)\n              } else {\n                alert.success('Профиль успешно обновлен!')\n              }\n            }}\n          >\n            {({isSubmitting, isValid}) => (\n              <FormWrapper>\n                <Heading size=\"h2\" bold>\n                  Редактировать профиль\n                </Heading>\n                <StyledForm>\n                  <Field\n                    type='text'\n                    name='firstName'\n                    placeholder='Имя'\n                    component={Input}\n                  />\n                  <Field\n                    type='text'\n                    name='lastName'\n                    placeholder='Фамилия'\n                    component={Input}\n                  />\n                  <Field\n                    type='email'\n                    name='email'\n                    placeholder='E-mail'\n                    component={Input}\n                  />\n                  <Field\n                    type='password'\n                    name='password'\n                    placeholder='Пароль'\n                    component={Input}\n                  />\n                  <Field\n                    type='password'\n                    name='confirmPassword'\n                    placeholder='Подтвердите пароль'\n                    component={Input}\n                  />\n                  <Button\n                    disabled={!isValid || isSubmitting}\n                    type=\"submit\"\n                    loading={loading ? <Loader isBtn /> : null}\n                  >\n                    Редактировать\n                  </Button>\n                </StyledForm>\n                <DeleteWrapper onClick={() => setModalOpened(true)}>Удалить аккаунт</DeleteWrapper>\n              </FormWrapper>\n            )}\n          </Formik>\n        </ProfileEditWrapper>\n      </ProfileWrapper>\n      <Modal\n        opened={modalOpened}\n        close={() => setModalOpened(false)}\n      >\n        <TitlesWrapper>\n          <Heading bold size=\"h2\">\n            Вы уверены, что хотите удалить аккаунт?\n          </Heading>\n        </TitlesWrapper>\n        <ButtonsWrapper>\n          <Button\n            disabled={loadingDelete}\n            loading={loading ? <Loader isBtn /> : null}\n            onClick={\n              () => {\n                deleteUser();\n                if (erroreDelete) {\n                  alert.error(`${erroreDelete}`);\n                }\n                setModalOpened(false);\n              }\n            }\n            deleted\n            contain\n          >\n            Удалить\n          </Button>\n          <Button\n            onClick={() => setModalOpened(false)}\n            contain\n          >\n            Отмена\n          </Button>\n        </ButtonsWrapper>\n      </Modal>\n    </Container>\n  );\n};\n\nconst mapStateToProps = ({firebase, firestore, auth}) => ({\n  firebase,\n  doc: 'HcDMDWiNBUTVf5Urkid6',\n  books: firestore.data.books,\n  userId: firebase.auth.uid,\n  loading: auth.profileEdit.loading,\n  error: auth.profileEdit.error,\n  loadingDelete: auth.deleteUser.loading,\n  erroreDelete: auth.deleteUser.error,\n});\n\nconst mapDispatchToProps = {\n  editProfile: actions.editProfile,\n  cleanUp: actions.clean,\n  deleteUser: actions.deleteUser,\n  returnBook: actions.returnBook,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n","import React from 'react';\r\nimport {SelectWrapper, StyledSelect, Error} from '../../../../hoc/layout/elements';\r\n\r\nconst Select = ({name, changeFn, blurFn, errors, touched, firstOption, items, classname}) => {\r\n  return (\r\n    <SelectWrapper>\r\n      <StyledSelect\r\n        name={name}\r\n        onChange={changeFn}\r\n        onBlur={blurFn}\r\n        className={classname}\r\n      >\r\n        <option value=\"\" label={firstOption} />\r\n        {\r\n          items.map((option) => {\r\n            return (\r\n              <option key={option.value} value={option.value} label={option.label} />\r\n            )\r\n          })\r\n        }\r\n      </StyledSelect>\r\n      <Error show={errors[name] && touched[name]}>{errors[name]}</Error>\r\n    </SelectWrapper>\r\n  )\r\n}\r\n\r\nexport default Select;\r\n","import React, {useEffect} from 'react';\r\nimport { useAlert } from 'react-alert';\r\nimport {connect} from 'react-redux';\r\nimport {Formik, Field} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {TitlesWrapper, StyledForm, FormWrapper} from '../../../hoc/layout/elements';\r\nimport Input from '../../../components/UI/Forms/Input/Input';\r\nimport Button from '../../../components/UI/Forms/Button/Button';\r\nimport Heading from '../../../components/UI/Headings/Heading';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport Select from '../../../components/UI/Forms/Select/Select';\r\nimport {booksFilter} from '../../../utils';\r\nimport * as actions from '../../../store/actions';\r\n\r\nconst addBookSchema = Yup.object().shape({\r\n  bookAuthor: Yup.string()\r\n    .required('Поле автор обязательно')\r\n    .min(4, 'Мин кол-во символов 4'),\r\n  bookName: Yup.string()\r\n    .required('Поле название обязательно')\r\n    .min(4, 'Мин кол-во символов 4'),\r\n  items: Yup.string()\r\n    .required('Поле кол-во обязательно')\r\n    .min(1, 'Мин кол-во символов 1'),\r\n  category: Yup.string()\r\n    .required('Поле категория обязательно')\r\n});\r\n\r\nconst AddBook = ({addBook, loading, error, cleanUp}) => {\r\n  useEffect(() => {\r\n    return () => {\r\n      cleanUp();\r\n    };\r\n  }, [cleanUp]);\r\n\r\n  const alert = useAlert();\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        bookAuthor: '',\r\n        bookName: '',\r\n        items: '',\r\n        category: ''\r\n      }}\r\n      validationSchema={addBookSchema}\r\n      onSubmit={async (values, {setSubmitting, resetForm}) => {\r\n        await addBook(values);\r\n        \r\n        setSubmitting(false);\r\n\r\n        document.querySelectorAll('.add-book-select').forEach((select) => {\r\n          return select.value = '';\r\n        })\r\n\r\n        if (error) {\r\n          alert.error(`${error}`)\r\n        } else {\r\n          alert.success('Книга добавлена успешно')\r\n        }\r\n        \r\n        resetForm();\r\n      }}\r\n    >\r\n      {({isSubmiting, isValid, handleChange, handleBlur, touched, errors}) => (\r\n        <FormWrapper contain>\r\n          <TitlesWrapper>\r\n            <Heading bold size=\"h3\">\r\n              Здесь можно добавить книгу\r\n            </Heading>\r\n          </TitlesWrapper>\r\n          <StyledForm>\r\n            <Field\r\n              type='text'\r\n              name='bookAuthor'\r\n              placeholder='Автор'\r\n              component={Input}\r\n            />\r\n            <Field\r\n              type='text'\r\n              name='bookName'\r\n              placeholder='Введите название книги'\r\n              component={Input}\r\n            />\r\n            <Field\r\n              type='text'\r\n              name='items'\r\n              placeholder='Введите кол-во'\r\n              component={Input}\r\n            />\r\n            <Select\r\n              name=\"category\"\r\n              changeFn={handleChange}\r\n              blurFn={handleBlur}\r\n              classname='add-book-select'\r\n              firstOption=\"Выберите категорию\"\r\n              items={booksFilter}\r\n              errors={errors}\r\n              touched={touched}\r\n            />\r\n            <Button\r\n              disabled={!isValid || isSubmiting}\r\n              loading={loading  ? <Loader isBtn /> : null}\r\n              type=\"submit\"\r\n            >\r\n              Добавить\r\n            </Button>\r\n          </StyledForm>\r\n        </FormWrapper>\r\n      )}\r\n    </Formik>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = ({books}) => ({\r\n  loading: books.loading,\r\n  error: books.error\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  addBook: actions.addBook,\r\n  cleanUp: actions.clean\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddBook);\r\n","import styled from 'styled-components';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport const Col = styled.div `\r\n  width: 33.333%;\r\n  padding: 0 1.5rem;\r\n  margin-top: 1.5rem;\r\n\r\n  @media ${props => props.theme.mediaQueries.medium} {\r\n    width: 50%;\r\n  }\r\n\r\n  @media ${props => props.theme.mediaQueries.small} {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Item = styled.div `\r\n  background: var(--color-whiteColor);\r\n  box-shadow: var(--shadow);\r\n  border-radius: 1.5rem;\r\n  height: 100%;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: .3s all;\r\n  position: relative;\r\n  text-align: left;\r\n  &:hover{\r\n    transform: translateY(-.3rem);\r\n  }\r\n`;\r\n\r\nexport const Value = styled.span `\r\n  font-weight: 700;\r\n  color: var(--color-yellow);\r\n`;\r\n\r\nexport const ValueToBottom = styled.div `\r\n  margin-top: auto;\r\n  padding-top: 1rem;\r\n`;\r\n\r\nexport const BtnWrap = styled.div `\r\n  margin: 1rem 1rem 0 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const BookItemReviews = styled(Link) `\r\n  display: block;\r\n  font-size: 1.4rem;\r\n`;\r\n\r\nexport const BookItemInfo = styled.div `\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;","import React, {Component, Fragment} from 'react';\r\nimport './styles.css';\r\n\r\nclass LikeButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      likesValue: this.props.likesValue,\r\n    };\r\n    this.addLike = this.addLike.bind(this);\r\n    this.deleteLike = this.deleteLike.bind(this);\r\n    this.likeAction = this.likeAction.bind(this);\r\n  }\r\n\r\n  addLike() {\r\n    let newCount = this.state.likesValue + 1;\r\n    this.setState({\r\n      likesValue: newCount\r\n    });\r\n    this.props.likeBook(+this.props.bookId);\r\n  }\r\n\r\n  deleteLike() {\r\n    let newCount = this.state.likesValue - 1;\r\n    this.setState({\r\n      likesValue: newCount\r\n    });\r\n    this.props.deleteLike(+this.props.bookId);\r\n  }\r\n\r\n  likeAction() {\r\n    let likes = this.props.likes;\r\n    let userId = this.props.userId;\r\n    if (likes) {\r\n      let index = likes.find(like => like.userId === userId);\r\n      if (index) {\r\n        this.deleteLike();\r\n      } else {\r\n        this.addLike();\r\n      }\r\n    } else {\r\n      this.addLike();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {likesValue} = this.state;\r\n    const {likes} = this.props;\r\n\r\n    if (likesValue === 0) {\r\n      return (\r\n        <button\r\n          className=\"like-button\"\r\n          onClick={this.likeAction}\r\n        >\r\n          <i className=\"far fa-heart fa-lg\" style={{ color: 'var(--color-textColor)' }}></i>\r\n        </button>\r\n      );\r\n    }\r\n    if (likesValue === 1) {\r\n      return (\r\n        <div className=\"like\">\r\n          <button\r\n            className=\"like-button\"\r\n            onClick={this.likeAction}\r\n          >\r\n            <i className=\"fas fa-heart fa-lg\" style={{ color: 'var(--color-errorRed)' }}></i>\r\n          </button>\r\n          {\r\n            likes && likes.length === 1 ?\r\n            <div className=\"like-users\">\r\n              Понравилось: <br/> <span>{likes[0].firstName} {likes[0].lastName}</span>\r\n            </div> : null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n    if (likesValue > 1) {\r\n      return (\r\n        <div className=\"like\">\r\n          <button\r\n            className=\"like-button\"\r\n            onClick={this.likeAction}\r\n          >\r\n            <i className=\"fas fa-heart fa-lg\" style={{ color: 'var(--color-errorRed)' }}></i> &nbsp;\r\n            {likesValue}\r\n          </button>\r\n          {\r\n            likes.length > 0 ?\r\n            <div className=\"like-users\">\r\n              Понравилось: <br/>\r\n              {\r\n                likes.map((like, i) => {\r\n                  let divider = i < likes.length - 1 && <Fragment>, </Fragment>;\r\n                  return(\r\n                    <Fragment>\r\n                      <span key={i}>{like.firstName} {like.lastName}</span>\r\n                      {divider}\r\n                    </Fragment>\r\n                  )\r\n                })\r\n              }\r\n            </div> : null\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default LikeButton;","import React, {Fragment, useState, useEffect} from 'react';\r\nimport { useAlert } from 'react-alert';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport Heading from '../../../../components/UI/Headings/Heading';\r\nimport Button from '../../../../components/UI/Forms/Button/Button';\r\nimport * as actions from '../../../../store/actions';\r\nimport {Col, Item, Value, ValueToBottom, BtnWrap, BookItemInfo, BookItemReviews} from './styles';\r\nimport LikeButton from '../../../../components/UI/Like/Like';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\n\r\nconst BookItem = ({book, rentBook, userId, returnBook, likeBook, deleteLike, isAdmin, deleteBook, cleanUp, loading}) => {\r\n  const {renter} = book;\r\n  const {bookItems} = useState(book.items);\r\n\r\n  const alert = useAlert();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      cleanUp();\r\n    };\r\n  }, [cleanUp]);\r\n\r\n  return (\r\n    <Col>\r\n      <Item>\r\n        <Heading bold size='h4' noMargin >\r\n          <Link to={`/book/${book.id}`} style={{paddingRight: '2rem', display: 'block'}}>\r\n            {book.bookName}\r\n          </Link>\r\n        </Heading>\r\n        <Heading size='h4' noMargin>\r\n          Автор: {book.bookAuthor}\r\n        </Heading>\r\n        <ValueToBottom>\r\n          {\r\n            renter.length > 0 ?\r\n            <Heading bold size='h4' noMargin>\r\n              Где книга: {\r\n                renter ? \r\n                renter.map((user, i) => {\r\n                  let divider = i < renter.length - 1 && <Fragment>, </Fragment>;\r\n                  return(\r\n                    <Fragment key={user.lastName}>\r\n                      {\r\n                        user.userId === userId ?\r\n                        <Fragment>\r\n                          у меня \r\n                        </Fragment> :\r\n                        <Fragment>\r\n                          У {user.firstName} {user.lastName}\r\n                        </Fragment>\r\n                      }\r\n                      {divider}\r\n                    </Fragment>\r\n                  )\r\n                }) : <Fragment>В офисе</Fragment>\r\n              }\r\n            </Heading> : null \r\n          }\r\n          <BookItemInfo>\r\n            <div>\r\n              <Heading bold size='h4' noMargin>\r\n                Количество: <Value>{book.items}</Value>\r\n              </Heading>\r\n              <BookItemReviews to={`/book/${book.id}`}>\r\n                Отзывы о&nbsp;книге ({book.reviews ? book.reviews.length : 0})\r\n              </BookItemReviews>\r\n            </div>\r\n            <LikeButton\r\n              userId={userId}\r\n              likes={book.likes ? book.likes : null}\r\n              likesValue={book.likes ? book.likes.length : 0}\r\n              likeBook={likeBook}\r\n              deleteLike={deleteLike}\r\n              bookId={book.id}\r\n            />\r\n          </BookItemInfo>\r\n          <BtnWrap>\r\n            {\r\n              renter.findIndex(user => user.userId === userId)\r\n              && book.items > 0 ?\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={async () => await rentBook(book.id)}\r\n                  disabled={book.items === 0 ? true : false}\r\n                >\r\n                  Взять почитать\r\n                </Button> :\r\n              renter.find(user => user.userId === userId)\r\n              && book.items !== bookItems ? \r\n                <Button\r\n                  type=\"button\"\r\n                  warning\r\n                  onClick={async () => await returnBook(book.id)}\r\n                >\r\n                  Вернуть книгу\r\n                </Button>\r\n              : null\r\n            }\r\n          </BtnWrap>\r\n          {\r\n            isAdmin ? \r\n              <Button\r\n                type=\"button\"\r\n                deleted\r\n                disabled={loading}\r\n                loading={loading ? <Loader isBtn /> : null}\r\n                style={{marginTop: '1rem'}}\r\n                onClick={\r\n                  async () => {\r\n                    await deleteBook(book.id);\r\n                    alert.success('Книга успешно удалена!');\r\n                  }\r\n                }\r\n              >\r\n                Удалить книгу\r\n              </Button> : null\r\n          }\r\n        </ValueToBottom>\r\n      </Item>\r\n    </Col>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({books}) => ({\r\n  loading: books.deleteBook.loading\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  rentBook: actions.rentBook,\r\n  returnBook: actions.returnBook,\r\n  likeBook: actions.likeBook,\r\n  deleteLike: actions.deleteLike,\r\n  deleteBook: actions.deleteBook,\r\n  cleanUp: actions.clean,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookItem);\r\n","import styled from 'styled-components';\r\n\r\nexport const FilterWrapper = styled.div `\r\n  padding: 0 1.5rem;\r\n`;\r\n\r\nexport const Filter = styled.div `\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n  margin: 2rem 0;\r\n`;\r\n\r\nexport const FilterBtn = styled.button `\r\n  padding: .5rem 1rem;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  background: none;\r\n  color: var(--color-textColor);\r\n  border: 1px solid var(--color-main)!important;\r\n  border-radius: .5rem;\r\n  margin: .25rem .5rem .25rem 0;\r\n  transition: .3s all;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    font-size: 1rem;\r\n    margin: .25rem;\r\n  }\r\n\r\n  &:hover{\r\n    color: var(--color-main);\r\n  }\r\n\r\n  &.active{\r\n    color: var(--color-whiteColor);\r\n    background: var(--color-main);\r\n    transition: .3s all;\r\n  }\r\n`;","import React, { Component } from 'react';\r\nimport {StyledInput} from '../../../../hoc/layout/elements';\r\nimport {booksFilter} from '../../../../utils';\r\nimport {FilterWrapper, Filter, FilterBtn} from './styles';\r\n\r\nclass BooksFilter extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      term: ''\r\n    };\r\n    this.onTermChange = this.onTermChange.bind(this);\r\n  }\r\n\r\n  onTermChange = (e) => {\r\n    const {onSearchChange = () => {}} = this.props;\r\n\r\n    this.setState({\r\n      term: e.target.value\r\n    });\r\n\r\n    onSearchChange(e.target.value);\r\n  }\r\n\r\n  render() {\r\n    const {filter, onFilterChange} = this.props;\r\n\r\n    return (\r\n      <FilterWrapper>\r\n        <Filter>\r\n          {\r\n            booksFilter.map((button) => {\r\n              return(\r\n                <FilterBtn\r\n                  key={button.value}\r\n                  className={filter === `${button.value}` ? 'active' : ''}\r\n                  onClick={() => onFilterChange(button.value)}\r\n                >\r\n                  {button.label}\r\n                </FilterBtn>\r\n              )\r\n            })\r\n          }\r\n        </Filter>\r\n        <StyledInput\r\n          onChange={(e) => this.onTermChange(e)}\r\n          placeholder=\"Начните вводить название книги\"\r\n          value={this.state.term}\r\n        />\r\n      </FilterWrapper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BooksFilter;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { withAlert } from 'react-alert';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport BookItem from './BookItem/BookItem';\r\nimport BooksFilter from './BooksFilter/BooksFilter';\r\nimport {booksFilter} from '../../../utils';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport Heading from '../../../components/UI/Headings/Heading';\r\n\r\nconst Row = styled.div `\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding-bottom: 2.2rem;\r\n`;\r\n\r\nclass Books extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filter: booksFilter[0].value,\r\n      search: ''\r\n    };\r\n    this.onSearchChange = this.onSearchChange.bind(this);\r\n    this.onSearchItem = this.onSearchItem.bind(this);\r\n    this.onFilterChange = this.onFilterChange.bind(this);\r\n    this.filterItems = this.filterItems.bind(this);\r\n  }\r\n\r\n  onSearchChange(search) {\r\n    this.setState({\r\n      search\r\n    });\r\n  }\r\n\r\n  onSearchItem(items, search) {\r\n    if (search.length === 0) {\r\n      return items;\r\n    }\r\n\r\n    return items.filter((item) => {\r\n      return item.bookName.toLowerCase().indexOf(search.toLowerCase()) > -1;\r\n    });\r\n  }\r\n\r\n  onFilterChange(filter) {\r\n    this.setState({\r\n      filter\r\n    });\r\n  }\r\n\r\n  filterItems(items, filter) {\r\n    if (filter === 'all') {\r\n      return items;\r\n    }\r\n    return items.filter(item => item.category === filter);\r\n  }\r\n\r\n  render() {\r\n    const {books, doc, userId, alert, isAdmin} = this.props;\r\n    const {search, filter} = this.state;\r\n\r\n    let content;\r\n\r\n    if (!books) {\r\n      content = (\r\n        <Loader isAbsolute />\r\n      );\r\n    } else if (!books[doc] || !books[doc].books || books[doc].books.length === 0) {\r\n      content = (\r\n        null\r\n      );\r\n      alert.error('Не удалось загрузить список книг, пожалуйста перезагрузите страницу.');\r\n    } else {\r\n      const bookItems = this.onSearchItem(this.filterItems(books[doc].books, filter), search);\r\n      content = (\r\n        <Fragment>\r\n          {\r\n            books === null ? null :\r\n            bookItems.length > 0 ?\r\n            bookItems.map((item) => {\r\n              return(\r\n                <BookItem userId={userId} key={item.id} book={item} isAdmin={isAdmin} />\r\n              );\r\n            }) : <div style={{padding: '1.5rem'}}>\r\n              <Heading size='h4' noMargin>\r\n                В этом разделе еще нет книг...\r\n              </Heading>\r\n            </div>\r\n          }\r\n        </Fragment>\r\n      )\r\n    }\r\n    \r\n    return (\r\n      <Fragment>\r\n        <BooksFilter\r\n          onSearchChange={this.onSearchChange}\r\n          onFilterChange={this.onFilterChange}\r\n          filter={filter}\r\n        />\r\n        <Scrollbars style={{height: 600,  width: '100%',}}>\r\n          <Row>\r\n            {content}\r\n          </Row>\r\n        </Scrollbars>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAlert()(Books);\r\n","import styled from 'styled-components';\r\n\r\nexport const LibraryWrapper = styled.div `\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const BooksWrapper = styled.div `\r\n  width: ${({isAdmin}) => (isAdmin ? '60%' : '100%')};\r\n  position: relative;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    width: 100%;\r\n    margin-bottom: 2.5rem;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nexport const TitleWrapper = styled.div `\r\n  padding: 0 1.5rem;\r\n`;\r\n\r\nexport const AddBookWrapper = styled.div `\r\n  width: 35%;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    width: 100%;\r\n  }\r\n\r\n  @media ${props => props.theme.mediaQueries.medium} {\r\n    padding: 0 1.5rem;\r\n  }\r\n`;","import React from 'react';\r\nimport {Helmet} from 'react-helmet';\r\nimport { Container } from '../../hoc/layout/elements';\r\nimport AddBook from './AddBook/AddBook';\r\nimport Books from './Books/Books';\r\nimport Heading from '../../components/UI/Headings/Heading';\r\nimport {LibraryWrapper, BooksWrapper, TitleWrapper, AddBookWrapper} from './styles';\r\n\r\nconst Library = ({userId, books, doc, isAdmin}) => {\r\n  return (\r\n    <Container selfStart>\r\n      <Helmet>\r\n        <title>Библиотека ems</title>\r\n      </Helmet>\r\n      <LibraryWrapper>\r\n        <BooksWrapper isAdmin={isAdmin}>\r\n          <TitleWrapper>\r\n            <Heading noMargin size='h2' bold>\r\n              Список книг\r\n            </Heading>\r\n          </TitleWrapper>\r\n          <Books books={books} doc={doc} userId={userId} isAdmin={isAdmin} />\r\n        </BooksWrapper>\r\n        {\r\n          isAdmin ? <AddBookWrapper>\r\n            <AddBook />\r\n          </AddBookWrapper> : null\r\n        }\r\n      </LibraryWrapper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Library;","import React from 'react';\r\nimport {Error, StyledTextarea} from '../../../../hoc/layout/elements';\r\nimport styled from 'styled-components';\r\n\r\nconst TextareaWrapper = styled.div `\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Textarea = ({field, form: {touched, errors}, ...props}) => {\r\n  return (\r\n    <TextareaWrapper>\r\n      <StyledTextarea {...field} {...props} />\r\n      <Error show={errors[field.name] && touched[field.name]}>{errors[field.name]}</Error>\r\n    </TextareaWrapper>\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { useAlert } from 'react-alert';\r\nimport {Formik, Field} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {TitlesWrapper, StyledForm, FormWrapper} from '../../../hoc/layout/elements';\r\nimport Heading from '../../../components/UI/Headings/Heading';\r\nimport Textarea from '../../../components/UI/Forms/Textarea/Textarea';\r\nimport Button from '../../../components/UI/Forms/Button/Button';\r\nimport Loader from '../../../components/UI/Loader/Loader';\r\nimport Select from '../../../components/UI/Forms/Select/Select';\r\nimport * as actions from '../../../store/actions';\r\nimport {bookRating} from '../../../utils';\r\n\r\nconst bookReviewSchema = Yup.object().shape({\r\n  review: Yup.string()\r\n    .required('Поле отзыв обязательно')\r\n    .min(20, 'Мин кол-во символов 20'),\r\n  rating: Yup.string()\r\n    .required('Оцените книгу')\r\n});\r\n\r\nconst AddBookReview = ({bookId, addBookReview, loading, error, cleanUp}) => {\r\n  useEffect(() => {\r\n    return () => {\r\n      cleanUp();\r\n    };\r\n  }, [cleanUp]);\r\n\r\n  const alert = useAlert();\r\n  \r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        review: '',\r\n        rating: '',\r\n        bookId: bookId\r\n      }}\r\n      validationSchema={bookReviewSchema}\r\n      onSubmit={async (values, {setSubmitting, resetForm}) => {\r\n        await addBookReview(values);\r\n        \r\n        setSubmitting(false);\r\n\r\n        document.querySelectorAll('.add-review-select').forEach((select) => {\r\n          return select.value = '';\r\n        })\r\n\r\n        if (error) {\r\n          alert.error(`${error}`)\r\n        } else {\r\n          alert.success('Отзыв успешно добавлен!')\r\n        }\r\n        \r\n        resetForm();\r\n      }}\r\n    >\r\n      {({isSubmiting, isValid, handleChange, handleBlur, touched, errors}) => (\r\n        <FormWrapper contain>\r\n          <TitlesWrapper>\r\n            <Heading bold size=\"h3\">\r\n              Оставьте отзыв о книге\r\n            </Heading>\r\n          </TitlesWrapper>\r\n          <StyledForm>\r\n            <Field\r\n              type='text'\r\n              name='review'\r\n              placeholder='Напишите ваш отзыв...'\r\n              component={Textarea}\r\n            />\r\n            <Select\r\n              name=\"rating\"\r\n              changeFn={handleChange}\r\n              blurFn={handleBlur}\r\n              classname='add-review-select'\r\n              firstOption=\"Ваша оценка\"\r\n              items={bookRating}\r\n              errors={errors}\r\n              touched={touched}\r\n            />\r\n            <Button\r\n              disabled={!isValid || isSubmiting}\r\n              loading={loading  ? <Loader isBtn /> : null}\r\n              type=\"submit\"\r\n            >\r\n              Отправить\r\n            </Button>\r\n          </StyledForm>\r\n        </FormWrapper>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({books}) => ({\r\n  loading: books.addReview.loading,\r\n  error: books.addReview.error\r\n});\r\n\r\nconst mapDispatchToProps =  {\r\n  addBookReview: actions.addBookReview,\r\n  cleanUp: actions.clean\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddBookReview);\r\n","import React, { Component, Fragment } from 'react';\r\nimport StarRatingComponent from 'react-star-rating-component-unsafe';\r\nimport './styles.css';\r\n\r\nclass StarsRating extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rating: this.props.value,\r\n    };\r\n  }\r\n \r\n  render() {\r\n    let {rating} = this.state;\r\n\r\n    return (            \r\n      <Fragment>\r\n        <StarRatingComponent \r\n          name=\"rate2\" \r\n          starCount={5}\r\n          editing={false}\r\n          value={+rating}\r\n          starColor='#ffa800'\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StarsRating;\r\n","import styled from 'styled-components';\r\n\r\nexport const ReviewItem = styled.div `\r\n  box-shadow: var(--shadow);\r\n  padding: 2rem 5rem 2rem 2rem;\r\n  border-radius: 1.5rem;\r\n  margin-bottom: 2rem;\r\n  position: relative;\r\n`;\r\n\r\nexport const DeleteBtn = styled.button `\r\n  width: 2rem;\r\n  height: 2rem;\r\n  position: absolute;\r\n  border: 0;\r\n  background: none;\r\n  right: 2rem;\r\n  top: 2rem;\r\n  font-size: 2rem;\r\n  color: var(--color-errorRed);\r\n`;","import React, { Fragment, useEffect, useState } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { useAlert } from 'react-alert';\r\nimport Heading from '../../../../components/UI/Headings/Heading';\r\nimport StarsRating from '../../../../components/UI/StarsRating/StarsRating';\r\nimport {TitlesWrapper, ButtonsWrapper} from '../../../../hoc/layout/elements';\r\nimport Button from '../../../../components/UI/Forms/Button/Button';\r\nimport Modal from '../../../../components/UI/Modal/Modal';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport * as actions from '../../../../store/actions';\r\nimport {ReviewItem, DeleteBtn} from './styles';\r\n\r\nconst BooksReviewsList = ({books, doc, bookId, cleanUp, loadingDelete, erroreDelete, deleteBookReview, userId}) => {\r\n  useEffect(() => {\r\n    return () => {\r\n      cleanUp();\r\n    };\r\n  }, [cleanUp]);\r\n  \r\n\r\n  const alert = useAlert();\r\n\r\n  const [modalOpened, setModalOpened] = useState(false);\r\n  const [visible, setVisible] = useState(3);\r\n\r\n  if (books) {\r\n    const newBooks = books[doc].books;\r\n    const index = newBooks.findIndex(book => book.id === +bookId);\r\n    return (\r\n      <Fragment>\r\n        {\r\n          newBooks[index].reviews && \r\n          newBooks[index].reviews.length > 0 ?\r\n          newBooks[index].reviews.slice(0, visible).map((review) => {\r\n            return(\r\n              <ReviewItem key={review.id}>\r\n                <StarsRating editing={false} value={review.rating} />\r\n                <Heading preWrap size='h4'>\r\n                  {review.review}\r\n                </Heading>\r\n                <Heading bold size='h4' noMargin>\r\n                  {review.firstName} {review.lastName}\r\n                </Heading>\r\n                {\r\n                  userId === review.userId ? <DeleteBtn\r\n                    onClick={() => setModalOpened(true)}\r\n                  >\r\n                    <i className=\"fa fa-trash-alt\"></i>\r\n                  </DeleteBtn> : null\r\n                }\r\n              </ReviewItem>\r\n            )\r\n          }) : <Heading size='h4' noMargin>Отзывов еще нет...</Heading>\r\n        }\r\n        {\r\n          newBooks[index].reviews && visible < newBooks[index].reviews.length && \r\n          <Button\r\n            onClick={\r\n              () => {\r\n                setVisible(visible + 3);\r\n              }\r\n            }\r\n          >\r\n            Показать еще\r\n          </Button>\r\n        }\r\n        <Modal\r\n          opened={modalOpened}\r\n          close={() => setModalOpened(false)}\r\n        >\r\n          <TitlesWrapper>\r\n            <Heading bold size=\"h3\">\r\n              Вы уверены, что хотите удалить отзыв?\r\n            </Heading>\r\n          </TitlesWrapper>\r\n          <ButtonsWrapper>\r\n            <Button\r\n              disabled={loadingDelete}\r\n              loading={loadingDelete ? <Loader isBtn /> : null}\r\n              onClick={\r\n                () => {\r\n                  deleteBookReview(bookId);\r\n                  setModalOpened(false);\r\n                  if (erroreDelete) {\r\n                    alert.error(`${erroreDelete}`)\r\n                  } else {\r\n                    alert.success('Отзыв успешно удалён!')\r\n                  }\r\n                }\r\n              }\r\n              deleted\r\n              contain\r\n            >\r\n              Удалить\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                setModalOpened(false);\r\n              }}\r\n              contain\r\n            >\r\n              Отмена\r\n            </Button>\r\n          </ButtonsWrapper>\r\n        </Modal>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({books, firebase}) => ({\r\n  loadingDelete: books.deleteReview.loading,\r\n  erroreDelete: books.deleteReview.error,\r\n  userId: firebase.auth.uid\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  cleanUp: actions.clean,\r\n  deleteBookReview: actions.deleteBookReview\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BooksReviewsList);\r\n","import styled from 'styled-components';\r\n\r\nexport const BookWrapper = styled.div `\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  padding: 0 1.5rem;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    flex-direction: column-reverse;\r\n  }\r\n`;\r\n\r\nexport const ReviewsWrapper = styled.div `\r\n  width: 60%;\r\n  position: relative;\r\n  min-height: 30rem;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    width: 100%;\r\n    margin-top: 2rem;\r\n  }\r\n`;\r\n\r\nexport const AddReviewWrapper = styled.div `\r\n  width: 35%;\r\n\r\n  @media ${props => props.theme.mediaQueries.large} {\r\n    width: 100%;\r\n  }\r\n`;","import React from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Container} from '../../../../hoc/layout/elements';\r\nimport AddBookReview from '../AddBookReview';\r\nimport BooksReviewsList from '../BooksReviewsList/BooksReviewsList';\r\nimport Loader from '../../../../components/UI/Loader/Loader';\r\nimport {BookWrapper, ReviewsWrapper, AddReviewWrapper} from './styles';\r\n\r\nconst BookPage = ({books, doc, uid}) => {\r\n  let {id} = useParams();\r\n\r\n  if (books){\r\n    return (\r\n      <Container>\r\n        <BookWrapper>\r\n          <ReviewsWrapper>\r\n            <BooksReviewsList uid={uid} books={books} doc={doc} bookId={id} />\r\n          </ReviewsWrapper>\r\n          <AddReviewWrapper>\r\n            <AddBookReview bookId={id} />\r\n          </AddReviewWrapper>\r\n        </BookWrapper>\r\n      </Container>\r\n    )\r\n  } else {\r\n    return (\r\n      <Loader isAbsolute />\r\n    )\r\n  }\r\n}\r\n\r\nexport default BookPage;\r\n","import React, {Suspense, useEffect} from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport {compose} from 'redux';\nimport {connect} from 'react-redux';\nimport {firestoreConnect} from 'react-redux-firebase';\nimport Layout from './hoc/layout/Layout';\nimport Login from './containers/Auth/Login/Login';\nimport SignUp from './containers/Auth/SignUp/SignUp';\nimport Logout from './containers/Auth/Logout/Logout';\nimport VerifyEmail from './containers/Auth/VerifyEmail/VerifyEmail';\nimport RecoverPassword from './containers/Auth/RecoverPassword/RecoverPassword';\nimport Profile from './containers/Auth/Profile/Profile';\nimport Loader from './components/UI/Loader/Loader';\nimport Library from './containers/Library/Library';\nimport BookPage from './containers/Library/Books/BookPage/BookPage';\n\nconst App = ({loggedIn, emailVerified, doc, books, isAdmin}) => {\n  let routes;\n  \n  useEffect(() => {\n    document.title = \"Wiki ems\";\n  }, []);\n\n  if (loggedIn && !emailVerified) {\n    routes = (\n      <Switch>\n        <Route exact path='/verify-email' component={VerifyEmail} />\n        <Route exact path='/profile' component={Profile} />\n        <Route exact path='/logout' component={Logout} />\n        <Redirect to='/verify-email' />\n      </Switch>\n    );\n  } else if (loggedIn && emailVerified) {\n    routes = (\n      <Suspense fallback={<Loader />}>\n        <Switch>\n          <Route exact path='/'>\n            <Library\n              userId={loggedIn}\n              books={books}\n              doc={doc}\n              isAdmin={isAdmin}\n            />\n          </Route>\n          <Route exact path='/profile'>\n            <Profile loggedIn={loggedIn} />\n          </Route>\n          <Route exact path='/book/:id'>\n            <BookPage\n              books={books}\n              doc={doc}\n              uid={loggedIn}\n            />\n          </Route>\n          <Route exact path='/logout' component={Logout} />\n          <Redirect to='/' />\n        </Switch>\n      </Suspense>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/signup\" component={SignUp} />\n        <Route exact path=\"/recover\" component={RecoverPassword} />\n        <Redirect to='/login' />\n      </Switch>\n    );\n  }\n\n  return (\n    <Layout loggedIn={loggedIn} emailVerified={emailVerified}>\n      {routes}\n    </Layout>\n  );\n};\n\nconst mapStateToProps = ({firestore, firebase}) => ({\n  doc: 'HcDMDWiNBUTVf5Urkid6',\n  books: firestore.data.books,\n  loggedIn: firebase.auth.uid,\n  emailVerified: firebase.auth.emailVerified,\n  isAdmin: firebase.profile.admin\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  firestoreConnect(props => [\n    `books/${props.doc}`\n  ])\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './store';\n\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\n\nimport {ThemeProvider} from 'styled-components';\nimport styled from 'styled-components';\nimport theme from './utils/theme';\nimport GlobalStyles from './utils/global';\n\nimport App from './App';\nimport Loader from './components/UI/Loader/Loader';\n\nconst Wrapper = styled.div `\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst root = document.getElementById('root');\n\nconst options = {\n  position: positions.TOP_RIGHT,\n  timeout: 5000,\n  offset: '30px',\n  transition: transitions.SCALE\n};\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <React.Fragment>\n      <Wrapper>\n        <Loader />\n      </Wrapper>\n      <GlobalStyles></GlobalStyles>\n    </React.Fragment>\n  </ThemeProvider>,\n  root\n);\n\nstore.firebaseAuthIsReady\n  .then(() => {\n    ReactDOM.render(\n      <AlertProvider template={AlertTemplate} {...options}>\n        <Provider store={store}>\n          <BrowserRouter>\n            <ThemeProvider theme={theme}>\n                <React.Fragment>\n                  <App />\n                  <GlobalStyles></GlobalStyles>\n                </React.Fragment>\n            </ThemeProvider>\n          </BrowserRouter>\n        </Provider>\n      </AlertProvider>,\n      root\n    );\n});\n"],"sourceRoot":""}